<template>
  <div class="ui-calendar__page" data-page="date">
    <div class="ui-calendar__header">
      <a
        t="[ui-tooltip]AUF.date.previousYear"
        ui-tooltip="Previous Year"
        class="ui-calendar__pg-down"
        click.trigger="previous('year')"
      >
        <ui-svg-icon icon="page-first"></ui-svg-icon>
      </a>
      <a
        t="[ui-tooltip]AUF.date.previousMonth"
        ui-tooltip="Previous Month"
        class="ui-calendar__prev"
        click.trigger="previous('month')"
      >
        <ui-svg-icon icon="page-previous"></ui-svg-icon>
      </a>
      <a class="ui-calendar__title" click.trigger="currentView = 'month'"
        >${currentMonth | date:"MMMM"} ${currentMonth | date:"YYYY"}
        <ui-svg-icon icon="caret"></ui-svg-icon
      ></a>
      <a
        t="[ui-tooltip]AUF.date.nextMonth"
        ui-tooltip="Next Month"
        class="ui-calendar__next"
        click.trigger="next('month')"
      >
        <ui-svg-icon icon="page-next"></ui-svg-icon>
      </a>
      <a
        t="[ui-tooltip]AUF.date.nextYear"
        ui-tooltip="Next Year"
        class="ui-calendar__pg-up"
        click.trigger="next('year')"
      >
        <ui-svg-icon icon="page-last"></ui-svg-icon>
      </a>
    </div>
    <div class="ui-calendar__grid" click.delegate="selectDate($event)">
      <span class="ui-date__head">#</span>
      <span class="ui-date__head" t="AUF.date.sunday">Su</span>
      <span class="ui-date__head" t="AUF.date.monday">Mo</span>
      <span class="ui-date__head" t="AUF.date.tuesday">Tu</span>
      <span class="ui-date__head" t="AUF.date.wednesday">We</span>
      <span class="ui-date__head" t="AUF.date.thursday">Th</span>
      <span class="ui-date__head" t="AUF.date.friday">Fr</span>
      <span class="ui-date__head" t="AUF.date.saturday">Sa</span>

      <template repeat.for="week of 6">
        <span class="ui-date__cell--week" data-week.bind="getDate(pageStart, week, 0)"
          >${getWeek(pageStart, week)}</span
        >
        <template repeat.for="day of 7">
          <span
            class.bind="getClasses(pageStart, week, day)"
            data-date.bind="getDate(pageStart, week, day)"
          >
            ${getDay(pageStart, week, day)}
          </span>
        </template>
      </template>
    </div>

    <div class="ui-calendar__foot">
      <a
        t="AUF.date.today"
        class="ui-date__title"
        ui-color="secondary"
        click.trigger="selectToday()"
        >Today</a
      >
    </div>
  </div>
  <div class="ui-calendar__time" if.bind="withTime">
    <div class="ui-time__wrapper">
      <span class="ui-time__row"><ui-svg-icon icon="clock"></ui-svg-icon></span>
      <div class="ui-time__row"><input type="range" min="0" max="11" value.bind="hour & debounce:10"/></div>
      <span class="ui-time__row">${hour || 12} : ${minute}</span>
      <div class="ui-time__row"><input type="range" min="0" max="59" value.bind="minute & debounce:10"/></div>
      <span class="ui-time__row">
          <ui-toggle checked.bind="ampm & debounce"></ui-toggle>
      </span>
    </div>
  </div>
</template>
