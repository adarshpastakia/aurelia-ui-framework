{"version":3,"file":"ui-lists.js","sources":["../../src/lists/ui-dropdown.ts","../../src/lists/list-container.ts","../../src/lists/list-input.ts","../../src/lists/list-maker.ts","../../src/lists/ui-list.ts","../../src/lists/ui-select.ts","../../src/lists/ui-lists.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, computedFrom, customElement, inlineView } from \"aurelia-framework\";\nimport { UIDrop } from \"../shared/ui-drop\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport view from \"./ui-dropdown.html\";\n\n@customElement(\"ui-dropdown\")\n@inlineView(view)\nexport class UIDropdown {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public placeholder: string = \"Select\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public iconProperty: string = \"\";\n  @bindable()\n  public iconPrefix: string = \"\";\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public disabled: boolean = false;\n  @bindable()\n  public multiple: boolean = false;\n\n  protected dropEl: UIDrop;\n  protected model: AnyObject = undefined;\n\n  constructor(protected element: Element) {}\n\n  protected attached() {\n    this.dropEl.tether(this.element);\n    this.valueChanged();\n  }\n\n  protected valueChanged(): void {\n    if (this.options) {\n      this.model = this.options.find(o => (o[this.valueProperty] || o) === this.value);\n    }\n  }\n\n  protected select(model: AnyObject): void {\n    this.model = model;\n    this.value = this.model[this.valueProperty] || this.model;\n  }\n\n  @computedFrom(\"model\")\n  get selectedLabel() {\n    return !isNull(this.model) ? this.model[this.labelProperty] || this.model : this.placeholder;\n  }\n\n  protected toggleDrop($event: Event): void {\n    $event.stopEvent();\n    const beforeEvent = this.dropEl.isOpen ? \"beforeopen\" : \"beforeclose\";\n    const afterEvent = this.dropEl.isOpen ? \"close\" : \"open\";\n    if (this.element.dispatchEvent(UIInternal.createEvent(beforeEvent)) !== false) {\n      this.dropEl.toggleDrop();\n      this.element.dispatchEvent(UIInternal.createEvent(afterEvent));\n    }\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { containerless, inlineView, processContent } from \"aurelia-framework\";\nimport view from \"./list-container.html\";\n\n@containerless()\n@inlineView(view)\n@processContent((compiler, resources, node, instruction) => {\n  instruction.inheritBindingContext = true;\n  return true;\n})\nexport class ListContainer {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { containerless, inlineView, processContent } from \"aurelia-framework\";\nimport view from \"./list-input.html\";\n\n@containerless()\n@inlineView(view)\n@processContent((compiler, resources, node, instruction) => {\n  instruction.inheritBindingContext = true;\n  return true;\n})\nexport class ListInput {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { BaseInput } from \"../forms/base-input\";\nimport { UIInternal } from \"../utils/ui-internal\";\n\nconst KEY_DOWN = 40;\nconst KEY_UP = 38;\nconst BACKSPACE = 8;\nconst ENTER = 13;\n\nexport class ListMaker extends BaseInput {\n  public value: AnyObject = undefined;\n  public model: AnyObject = undefined;\n\n  public errors: string[];\n\n  public name: string = \"\";\n  public placeholder: string = \"\";\n\n  public labelProperty: string = \"\";\n  public valueProperty: string = \"\";\n  public groupProperty: string = \"\";\n  public query: ({ query }) => AnyObject[];\n  public options: AnyObject[] = [];\n\n  public readonly: boolean = false;\n  public disabled: boolean = false;\n\n  public noOptionsText: string = \"No Options\";\n\n  protected template;\n  protected innerOptions;\n\n  protected multiple: boolean = false;\n  protected listContainer: Element;\n\n  protected valueEl: Element;\n\n  protected inputValue: string = \"\";\n  protected isLoaded = false;\n  protected isLoading = false;\n  protected isGrouped = false;\n  protected isFiltered = false;\n  protected ignoreChange = false;\n  protected allowAny = false;\n\n  protected hilightIndex = -1;\n\n  protected matcher: ({ option, value }) => boolean;\n\n  protected valueChanged() {\n    if (this.ignoreChange) {\n      return;\n    }\n    if (!this.valueProperty) {\n      this.model = this.value;\n      if (!this.multiple) {\n        this.inputValue = this.value ? this.value[this.labelProperty] || this.value : \"\";\n      }\n      return;\n    }\n    if (this.options && !isNull(this.value)) {\n      if (this.multiple) {\n        this.model = this.options.filter(o => {\n          if (this.matcher) {\n            return this.value.some(value => {\n              return this.matcher({ option: o, value });\n            });\n          } else {\n            return this.value.includes(o[this.valueProperty] || o);\n          }\n        });\n      } else {\n        this.model = this.options.find(o => {\n          if (this.matcher) {\n            return this.matcher({ option: o, value: this.value });\n          } else {\n            return this.value === (o[this.valueProperty] || o);\n          }\n        });\n      }\n    } else {\n      this.model = null;\n      this.inputValue = \"\";\n    }\n    if (!this.dropEl) {\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--selected\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n    }\n    this.resetQuery();\n  }\n\n  protected toggleDrop(open?: boolean): boolean {\n    if (this.dropEl) {\n      if (open === true && this.dropEl.isOpen) {\n        UIInternal.queueMicroTask(() => this.dropEl.updatePosition());\n        return;\n      }\n      if (super.toggleDrop(open)) {\n        this.loadOptions();\n      }\n    }\n  }\n\n  protected loadOptions() {\n    if (this.query) {\n      this.fetchOptions();\n    } else {\n      this.buildOptions(this.options);\n    }\n  }\n\n  protected filterOptions() {\n    this.isFiltered = !!this.inputValue;\n    if (this.query) {\n      this.fetchOptions(this.inputValue);\n    } else {\n      const query = this.inputValue.ascii().toLowerCase();\n      const options = this.options.filter(o =>\n        (o[this.labelProperty] || o)\n          .toString()\n          .ascii()\n          .toLowerCase()\n          .includes(query)\n      );\n      this.buildOptions(options);\n    }\n  }\n\n  protected selectOption(model) {\n    this.ignoreChange = true;\n    this.hilightIndex = -1;\n    if (this.multiple) {\n      if (!(this.value || []).includes(model[this.valueProperty] || model)) {\n        this.value = this.value\n          ? [...this.value, model[this.valueProperty] || model]\n          : [model[this.valueProperty] || model];\n        this.model = this.model ? [...this.model, model] : [model];\n      }\n      this.inputValue = \"\";\n      this.inputEl.focus();\n      this.inputEl.select();\n    } else {\n      if (this.labelProperty) {\n        model.$label = model[this.labelProperty] || model;\n      }\n      this.value = model[this.valueProperty] || model;\n      this.model = model;\n      this.resetQuery();\n      if (this.dropEl) {\n        this.dropEl.closeDrop();\n      }\n    }\n    if (this.isFiltered) {\n      this.isFiltered = false;\n      this.loadOptions();\n    }\n    this.element.dispatchEvent(UIInternal.createEvent(\"change\", this.value));\n    this.element.dispatchEvent(UIInternal.createEvent(\"select\", this.model));\n    setTimeout(() => (this.ignoreChange = false), 500);\n  }\n\n  protected removeOption(model) {\n    this.ignoreChange = true;\n    this.model = [...this.model.filter(m => m !== model)];\n    this.value = this.value.filter(m => m !== (model[this.valueProperty] || model));\n    setTimeout(() => (this.ignoreChange = false), 500);\n  }\n\n  protected resetQuery(clearFilter?: boolean) {\n    this.hilightIndex = -1;\n    if (this.multiple) {\n      this.inputValue = \"\";\n    } else {\n      this.inputValue = this.model\n        ? (this.model[this.labelProperty] || this.model).replace(\"<u>\", \"\").replace(\"</u>\", \"\")\n        : \"\";\n    }\n    if (clearFilter && this.isFiltered) {\n      this.isFiltered = false;\n      this.loadOptions();\n    }\n  }\n\n  protected clear() {\n    this.model = null;\n    this.value = null;\n    this.inputValue = \"\";\n    this.inputEl.focus();\n    if (this.isFiltered) {\n      this.loadOptions();\n    }\n  }\n\n  protected listClass(option, index): string {\n    const classes = [\"ui-list__item\"];\n    option.__selected = false;\n    if (!this.multiple) {\n      if (this.matcher) {\n        if (this.matcher({ option, value: this.value })) {\n          option.__selected = true;\n          classes.push(\"ui-list__item--selected\");\n        }\n      } else if ((option[this.valueProperty] || option) === this.value) {\n        option.__selected = true;\n        classes.push(\"ui-list__item--selected\");\n      }\n    } else if (this.multiple && this.value) {\n      if (this.matcher) {\n        this.value.forEach(value => {\n          if (this.matcher({ option, value })) {\n            option.__selected = true;\n            classes.push(\"ui-list__item--disabled\");\n          }\n        });\n      } else if (this.value.includes(option[this.valueProperty] || option)) {\n        option.__selected = true;\n        classes.push(\"ui-list__item--disabled\");\n      }\n    }\n    if (this.hilightIndex === index) {\n      classes.push(\"ui-list__item--hilight\");\n    }\n    return classes.join(\" \");\n  }\n\n  protected buildOption(option: AnyObject, el: Element, unmark: boolean = false): boolean {\n    if (el) {\n      el.innerHTML = \"\";\n      const tpl = this.template\n        ? this.template.outerHTML\n        : `<template><div innerhtml.bind=\"$label\"></div></template>`;\n      const model = {\n        $label:\n          this.isFiltered && !unmark\n            ? this.markOption(option)\n            : option[this.labelProperty] || option,\n        $model: option,\n        $value: option[this.valueProperty] || option\n      };\n      // if (isObject(option)) {\n      //   Object.assign(model, option);\n      // }\n      const view = UIInternal.compileTemplate(tpl, model);\n      view.appendNodesTo(el);\n    }\n    return true;\n  }\n\n  protected checkKeyEvent($event: KeyboardEvent): boolean {\n    if ([KEY_DOWN, KEY_UP].includes($event.keyCode)) {\n      if (this.dropEl && !this.dropEl.isOpen) {\n        this.dropEl.toggleDrop();\n      }\n      if ($event.keyCode === KEY_DOWN) {\n        this.hilightIndex =\n          this.hilightIndex === -1 && this.model\n            ? this.innerOptions.indexOf(this.model)\n            : this.hilightIndex >= this.innerOptions.length || this.hilightIndex < -1\n            ? -1\n            : this.hilightIndex;\n        while (\n          this.hilightIndex + 1 !== this.innerOptions.length &&\n          (this.innerOptions[this.hilightIndex + 1].__type === \"group\" ||\n            this.innerOptions[this.hilightIndex + 1].__selected ||\n            this.innerOptions[this.hilightIndex + 1].__disabled)\n          ) {\n          this.hilightIndex++;\n        }\n        this.hilightIndex = this.hilightIndex + 1;\n      }\n      if ($event.keyCode === KEY_UP) {\n        this.hilightIndex =\n          this.hilightIndex === -1 && this.model\n            ? this.innerOptions.indexOf(this.model)\n            : this.hilightIndex === -1\n            ? this.innerOptions.length\n            : this.hilightIndex;\n\n        while (\n          this.hilightIndex - 1 > 0 &&\n          (this.innerOptions[this.hilightIndex - 1].__type === \"group\" ||\n            this.innerOptions[this.hilightIndex - 1].__selected ||\n            this.innerOptions[this.hilightIndex - 1].__disabled)\n          ) {\n          this.hilightIndex--;\n        }\n        this.hilightIndex = this.hilightIndex - 1;\n      }\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--hilight\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n      $event.stopEvent();\n    } else if (this.hilightIndex !== -1 && $event.keyCode === ENTER) {\n      this.selectOption(this.innerOptions[this.hilightIndex]);\n      $event.stopEvent();\n    } else if (this.allowAny && !!this.inputValue.trim() && $event.keyCode === ENTER) {\n      this.selectOption(this.inputValue);\n      $event.stopEvent();\n    } else if (this.multiple && $event.keyCode === BACKSPACE) {\n      if (this.model.length > 0 && this.inputValue.length === 0) {\n        $event.stopEvent();\n        this.removeOption(this.model.last());\n      }\n    } else {\n      this.fireEnter($event);\n    }\n    return true;\n  }\n\n  private async fetchOptions(query?: string) {\n    this.showLoading();\n    const result = await this.query({ query });\n    if (!this.options) {\n      this.options = result;\n    }\n    this.buildOptions(result || []);\n  }\n\n  private showLoading() {\n    this.isLoaded = false;\n    this.isLoading = true;\n    this.innerOptions = [];\n    if (this.dropEl) {\n      UIInternal.queueMicroTask(() => this.dropEl.updatePosition());\n    }\n  }\n\n  private buildOptions(options: AnyObject[], silent: boolean = false): void {\n    if (!silent) {\n      this.showLoading();\n    }\n    const optionsClone = options.map(o => (isString(o) ? `${o}` : { ...o }));\n    UIInternal.queueTask(() => {\n      this.isLoading = false;\n\n      if (this.groupProperty) {\n        const groups = optionsClone\n          .sortBy([this.groupProperty, this.labelProperty])\n          .groupBy(this.groupProperty);\n        groups.forEach((items, label) =>\n          this.innerOptions.push({ __type: \"group\", label }, ...items)\n        );\n      } else {\n        this.innerOptions = optionsClone.sortBy(this.labelProperty);\n      }\n      this.isLoaded = true;\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--selected\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n      if (this.dropEl) {\n        UIInternal.queueTask(() => this.dropEl.updatePosition());\n      }\n    });\n  }\n\n  private markOption(option: AnyObject): void {\n    let lbl = option[this.labelProperty] || `${option}`;\n    if (isEmpty(this.inputValue)) {\n      return lbl;\n    }\n    const rx = new RegExp(this.inputValue, \"i\");\n    const asc = lbl.toString().ascii();\n    if (rx.test(asc)) {\n      const start = asc.search(rx);\n      lbl =\n        lbl.substr(0, start) +\n        \"<u>\" +\n        lbl.substr(start, this.inputValue.length) +\n        \"</u>\" +\n        lbl.substr(start + this.inputValue.length);\n    }\n    return lbl;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { InputWrapper } from \"../forms/input-wrapper\";\nimport { ListContainer } from \"./list-container\";\nimport { ListInput } from \"./list-input\";\nimport { ListMaker } from \"./list-maker\";\nimport view from \"./ui-list.html\";\n\n@customElement(\"ui-list\")\n@viewResources(InputWrapper, ListInput, ListContainer)\n@inlineView(view)\nexport class UIList extends ListMaker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public height: string = \"20em\";\n  @bindable()\n  public placeholder: string = \"\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public groupProperty: string = \"\";\n  @bindable()\n  public query: ({ query }) => AnyObject[];\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public readonly: boolean = false;\n  @bindable()\n  public disabled: boolean = false;\n\n  @bindable()\n  public noOptionsText: string = \"No Options\";\n\n  @bindable()\n  public matcher: ({ option, value }) => boolean;\n\n  constructor(protected element: Element) {\n    super(element);\n    this.multiple = element.hasAttribute(\"multiple\");\n    this.allowAny = element.hasAttribute(\"allow-any\");\n\n    this.template = this.element.querySelector(\"template\");\n  }\n\n  protected bind(): void {\n    if (!isNull(this.model)) {\n      if (this.multiple) {\n        this.value = this.multiple\n          ? this.model.map(o => o[this.valueProperty] || o)\n          : this.model[this.labelProperty] || this.model;\n      }\n    }\n    this.isGrouped = !!this.groupProperty;\n    this.valueChanged();\n  }\n\n  protected attached(): void {\n    this.loadOptions();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { InputWrapper } from \"../forms/input-wrapper\";\nimport { ListContainer } from \"./list-container\";\nimport { ListInput } from \"./list-input\";\nimport { ListMaker } from \"./list-maker\";\nimport view from \"./ui-select.html\";\n\n@customElement(\"ui-select\")\n@viewResources(InputWrapper, ListInput, ListContainer)\n@inlineView(view)\nexport class UISelect extends ListMaker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public placeholder: string = \"\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public groupProperty: string = \"\";\n  @bindable()\n  public query: ({ query }) => AnyObject[];\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public readonly: boolean = false;\n  @bindable()\n  public disabled: boolean = false;\n\n  @bindable()\n  public noOptionsText: string = \"No Options\";\n\n  @bindable()\n  public matcher: ({ option, value }) => boolean;\n\n  constructor(protected element: Element) {\n    super(element);\n    this.dropHandle = \"caret\";\n    this.multiple = element.hasAttribute(\"multiple\");\n    this.allowAny = element.hasAttribute(\"allow-any\");\n\n    this.template = this.element.querySelector(\"template\");\n  }\n\n  protected attached(): void {\n    this.dropEl.attachToViewport = isTrue(this.element.getAttribute(\"attach-to-viewport\"));\n    this.dropEl.closeOnClick = !this.multiple;\n    this.dropEl.tether(this.element);\n  }\n\n  protected bind(): void {\n    if (!isNull(this.model)) {\n      if (this.multiple) {\n        this.value = this.multiple\n          ? this.model.map(o => o[this.valueProperty] || o)\n          : this.model[this.labelProperty] || this.model;\n      }\n    }\n    this.isGrouped = !!this.groupProperty;\n    this.valueChanged();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { UIDropdown } from \"./ui-dropdown\";\nimport { UIList } from \"./ui-list\";\nimport { UISelect } from \"./ui-select\";\n\nexport const Lists = [UIList, UISelect, UIDropdown];\n"],"names":["view"],"mappings":"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"}