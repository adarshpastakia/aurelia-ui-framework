{"version":3,"file":"chunk4.js","sources":["../../src/utils/ui-format.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { format, formatDistance, formatDistanceStrict, isValid, parseISO, toDate } from \"date-fns\";\nimport kramed from \"kramed\";\nimport numeral from \"numeral\";\n\nexport namespace UIFormat {\n  export function toHTML(md): string {\n    return kramed(md, {\n      gfm: true,\n      tables: true,\n      breaks: true,\n      pedantic: false,\n      sanitize: false,\n      smartLists: true,\n      smartypants: false\n    }).replace(/(<a href=)/gi, '<a class=\"ui-link\" target=\"_blank\" href=');\n  }\n\n  // Dates\n  function parseDate(dt: string | Date) {\n    return typeof dt === \"string\" ? parseISO(dt) : dt;\n  }\n\n  export function date(dt: AnyObject, ft: string = \"dd MMM yyyy\"): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? null : format(dt, ft, { awareOfUnicodeTokens: true });\n  }\n\n  export function time(dt: AnyObject, ft: string = \"hh:mm a\"): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? null : format(dt, ft, { awareOfUnicodeTokens: true });\n  }\n\n  export function datetime(dt: AnyObject, ft: string = \"dd MMM yyyy hh:mm a\"): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? null : format(dt, ft, { awareOfUnicodeTokens: true });\n  }\n\n  export function utcDate(dt): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? null : toDate(dt).toISOString();\n  }\n\n  export function dateToISO(dt): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt)\n      ? null\n      : format(dt, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\", {\n          awareOfUnicodeTokens: true\n        });\n  }\n\n  export function age(dt: AnyObject): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? \"\" : formatDistanceStrict(dt, new Date());\n  }\n\n  export function fromNow(dt: AnyObject): string {\n    dt = parseDate(dt);\n    return !dt || !isValid(dt) ? \"\" : formatDistance(dt, new Date(), { addSuffix: true });\n  }\n\n  // Numbers\n  export function number(nm: AnyObject, fm: string = \"0,0[.]00\"): string {\n    return nm === null || isNaN(nm) ? \"\" : numeral(nm).format(fm);\n  }\n\n  export function currency(nm: AnyObject, sy: string = \"$\", fm: string = \"$ 0,0.00\"): string {\n    return nm === null || isNaN(nm)\n      ? \"\"\n      : numeral(nm)\n          .format(fm)\n          .replace(\"$\", sy);\n  }\n\n  export function percent(nm: AnyObject): string {\n    return nm === null || isNaN(nm) ? \"\" : numeral(nm > 1 ? nm / 100 : nm).format(\"0.00%\");\n  }\n}\n"],"names":[],"mappings":"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"}