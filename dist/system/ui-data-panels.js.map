{"version":3,"file":"ui-data-panels.js","sources":["../../src/models/ui-tree-model.ts","../../src/data/tree-node.ts","../../src/data/ui-tree-panel.ts","../../src/data/ui-data-panels.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { computedFrom } from \"aurelia-framework\";\n\nlet NODE_ID = 0;\n\nexport class UITreeModel {\n  public children: UITreeNode[] = [];\n  public nodes: UITreeNode[] = [];\n\n  constructor(children: KeyValue[], private maxNodes = 0) {\n    this.children = children.map(child => new UITreeNode(child));\n    this.nodes = this.getExpandedTree(this.children.sortBy(\"label\"));\n  }\n\n  public filter(query: string) {\n    const filtered = this.filterNodes(this.children, query);\n    this.nodes = this.getExpandedTree(filtered.sortBy(\"label\"));\n  }\n\n  public toggleExpand(index: number): void {\n    const node = this.nodes[index] as UITreeNode;\n    node.expanded = !node.expanded;\n\n    if (node.expanded) {\n      let injectedChildren = node.children.sortBy(\"label\");\n      if (injectedChildren.length === 0) {\n        injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, node));\n      }\n      if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n        injectedChildren = [\n          ...injectedChildren.slice(0, this.maxNodes),\n          new UITreeNode({ id: \"node-more\", leaf: true }, node)\n        ];\n      }\n      this.nodes = [\n        ...this.nodes.slice(0, index + 1),\n        ...injectedChildren,\n        ...this.nodes.slice(index + 1)\n      ];\n    } else {\n      let lastIndex = this.nodes.lastIndex(node.id, \"parentId\");\n      while (this.nodes[lastIndex].expanded) {\n        lastIndex = this.nodes.lastIndex(this.nodes[lastIndex].id, \"parentId\");\n      }\n      this.nodes = [...this.nodes.slice(0, index + 1), ...this.nodes.slice(lastIndex + 1)];\n    }\n  }\n\n  public toggleMore(index: number): void {\n    const node = this.nodes[index] as UITreeNode;\n    node.showingMore = !node.showingMore;\n\n    const parentIndex = this.nodes.index(node.parentId, \"id\");\n    let injectedChildren = this.nodes[parentIndex].children.sortBy(\"label\");\n    if (!node.showingMore) {\n      if (injectedChildren.length === 0) {\n        injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, node));\n      }\n      if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n        injectedChildren = [...injectedChildren.slice(0, this.maxNodes)];\n      }\n    }\n    this.nodes = [\n      ...this.nodes.slice(0, parentIndex + 1),\n      ...injectedChildren,\n      this.nodes[index],\n      ...this.nodes.slice(index + 1)\n    ];\n  }\n\n  public getChecked(): UITreeNode[] {\n    const checked = [];\n    this.getCheckedNodes(this.children, checked);\n    return checked;\n  }\n\n  private getCheckedNodes(nodes, checked) {\n    nodes.forEach(node => {\n      if (node.checked === 1) {\n        checked.push(node);\n      }\n      if (node.children) {\n        this.getCheckedNodes(node.childNodes, checked);\n      }\n    });\n  }\n\n  private getExpandedTree(children) {\n    const nodes = [];\n    children.forEach(child => {\n      nodes.push(child);\n      if (child.expanded) {\n        let injectedChildren = child.children.sortBy(\"label\");\n        if (injectedChildren.length === 0) {\n          injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, child));\n        }\n        if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n          injectedChildren = [\n            ...injectedChildren.slice(0, this.maxNodes),\n            new UITreeNode({ id: \"node-more\", leaf: true }, child)\n          ];\n        }\n        nodes.push(...this.getExpandedTree(injectedChildren));\n      }\n    });\n    return nodes;\n  }\n\n  private filterNodes(nodes, query) {\n    return nodes.filter(child => {\n      let retVal =\n        !query ||\n        child.label\n          .ascii()\n          .toLocaleLowerCase()\n          .includes(query.ascii().toLocaleLowerCase());\n      if (!child.leaf) {\n        child.filtered = this.filterNodes(child.childNodes, query);\n        retVal = retVal || child.filtered.length > 0;\n      }\n      return retVal;\n    });\n  }\n}\n\n// tslint:disable-next-line\nexport class UITreeNode {\n  @computedFrom(\"leaf\", \"icon\", \"expanded\", \"iconOpen\", \"iconClosed\")\n  get nodeIcon() {\n    return (this.leaf ? this.icon : this.expanded ? this.iconOpen : this.iconClosed) || this.icon;\n  }\n\n  @computedFrom(\"checked\")\n  get checkIcon() {\n    return this.checked === 2\n      ? \"tree-check-half\"\n      : this.checked\n      ? \"tree-check-on\"\n      : \"tree-check-off\";\n  }\n\n  @computedFrom(\"expanded\")\n  get expandIcon() {\n    return this.expanded ? \"tree-collapse\" : \"tree-expand\";\n  }\n\n  public id: string;\n  public icon: string;\n  public label: string;\n  public model: KeyValue;\n\n  public iconOpen: string;\n  public iconClosed: string;\n\n  public childNodes: UITreeNode[] = [];\n  public filtered: UITreeNode[] = null;\n\n  public leaf: boolean;\n  public parentId: string;\n  public level: number = 0;\n  public checked: number = 0;\n  public expanded: boolean;\n  public selected: boolean;\n  public disabled: boolean;\n  public showingMore: boolean;\n\n  constructor(node: KeyValue, private parent?: UITreeNode) {\n    this.id = node.id || `node__${NODE_ID++}`;\n    this.label = node.label;\n    this.model = node.model;\n\n    this.icon = node.icon;\n    this.iconOpen = node.iconOpen;\n    this.iconClosed = node.iconClosed;\n\n    this.leaf = !!node.leaf;\n    this.expanded = node.expanded;\n    this.disabled = node.disabled;\n\n    if (parent) {\n      this.level = parent.level + 1;\n      this.parentId = parent.id;\n    }\n\n    if (node.children) {\n      this.childNodes = node.children.map(child => new UITreeNode(child, this));\n    }\n  }\n\n  get children() {\n    return this.filtered || this.childNodes;\n  }\n\n  public toggleCheck() {\n    this.checked = this.checked ? 0 : 1;\n    this.children.forEach((c: UITreeNode) => {\n      c.updateChild(\"checked\", this.checked);\n    });\n    if (this.parent && this.parent.updatePartial) {\n      this.parent.updatePartial();\n    }\n  }\n\n  private updatePartial() {\n    const allChecked = this.children.every(node => node.checked === 1);\n    const allUnchecked = this.children.every(node => node.checked === 0);\n\n    this.checked = allChecked ? 1 : allUnchecked ? 0 : 2;\n    if (this.parent && this.parent.updatePartial) {\n      this.parent.updatePartial();\n    }\n  }\n\n  private updateChild(prop, v) {\n    this[prop] = v;\n    this.children.forEach((c: UITreeNode) => {\n      c.updateChild(prop, v);\n    });\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { bindable, computedFrom, inlineView } from \"aurelia-framework\";\nimport { UITreeNode } from \"../models/ui-tree-model\";\nimport view from \"./tree-node.html\";\nimport { UITreePanel } from \"./ui-tree-panel\";\n\n@inlineView(view)\nexport class TreeNode {\n  @bindable()\n  public node: UITreeNode;\n  @bindable()\n  public index: number;\n  @bindable()\n  protected tree: UITreePanel;\n\n  @computedFrom(\"tree.value\", \"node.id\")\n  get isSelected(): boolean {\n    return this.tree.value === this.node.id;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { UITreeModel, UITreeNode } from \"../models/ui-tree-model\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport { TreeNode } from \"./tree-node\";\n\n@customElement(\"ui-tree-panel\")\n@viewResources(TreeNode)\n@inlineView(`<template class=\"ui-tree__panel\"><ui-field nolabel class=\"ui-tree__search\" if.bind=\"searchable\">\n  <ui-input type=\"search\" placeholder=\"\\${labelSearch}\" value.bind=\"searchText\" \n  clear.trigger=\"searchTextChanged()\" input.trigger=\"searchTextChanged(searchText) & debounce:200\">\n    <ui-input-addon class=\"ui-text-muted\"><ui-icon icon=\"mdi mdi-magnify\"></ui-icon></ui-input-addon></ui-input></ui-field>\n  <div class=\"ui-tree__container\" nodeclick.delegate=\"itemClicked($event.detail)\" nodeover.delegate=\"itemOver($event.detail)\" nodeout.delegate=\"itemOut($event.detail)\">\n    <tree-node virtual-repeat.for=\"child of rootNode.nodes\" node.bind=\"child\" tree.bind=\"$parent\" index.bind=\"$index\"></tree-node>\n  </div></template>`)\nexport class UITreePanel {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public dataSource: KeyValue[];\n\n  @bindable()\n  public labelSearch: string = \"Search...\";\n  @bindable()\n  public labelEmpty: string = \"No Items\";\n  @bindable()\n  public labelLess: string = \"Show Less...\";\n  @bindable()\n  public labelMore: string = \"Show More...\";\n\n  @bindable()\n  public maxNodes: number;\n  @bindable()\n  public checkable: boolean | number = false;\n  @bindable()\n  public searchable: boolean = false;\n\n  private rootNode: UITreeModel;\n\n  constructor(protected element: Element) {\n    this.checkable = element.hasAttribute(\"checkable\");\n    this.searchable = element.hasAttribute(\"searchable\");\n  }\n\n  public select(node: UITreeNode) {\n    if (this.checkable !== false) {\n      if (node.level >= this.checkable) {\n        node.toggleCheck();\n        this.getCheckedValues();\n        this.element.dispatchEvent(UIInternal.createEvent(\"checked\", this.value));\n      }\n    } else {\n      return UIInternal.fireCallbackEvent(this, \"beforeselect\").then(b =>\n        b ? this.changeSelection(node) : false\n      );\n    }\n  }\n\n  protected bind(): void {\n    this.rootNode = new UITreeModel(this.dataSource, this.maxNodes);\n  }\n\n  protected dataSourceChanged(): void {\n    this.rootNode = new UITreeModel(this.dataSource, this.maxNodes);\n  }\n\n  protected toggleExpand(index): void {\n    this.rootNode.toggleExpand(index);\n  }\n\n  protected toggleMore(index): void {\n    this.rootNode.toggleMore(index);\n  }\n\n  protected toggleCheck(node): void {\n    node.toggleCheck();\n    this.getCheckedValues();\n    this.element.dispatchEvent(UIInternal.createEvent(\"checked\", this.value));\n  }\n\n  protected getCheckedValues() {\n    this.value = [];\n    this.model = [];\n    this.rootNode.getChecked().forEach(checkedNode => {\n      if (checkedNode.level >= this.checkable) {\n        this.value.push(checkedNode.id);\n        this.model.push(checkedNode.model);\n      }\n    });\n  }\n\n  protected searchTextChanged(query) {\n    this.rootNode.filter(query);\n  }\n\n  private changeSelection(node) {\n    this.value = node.id;\n    this.model = node.model;\n    this.element.dispatchEvent(UIInternal.createEvent(\"select\", this.value));\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { UITreePanel } from \"./ui-tree-panel\";\n\nexport const DataPanels = [UITreePanel];\n"],"names":["tslib_1.__decorate"],"mappings":"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"}