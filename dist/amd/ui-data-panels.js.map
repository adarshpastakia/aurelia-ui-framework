{"version":3,"file":"ui-data-panels.js","sources":["../../src/models/ui-tree-model.ts","../../src/data/tree-node.ts","../../src/data/ui-tree-panel.ts","../../src/data/ui-data-panels.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { computedFrom } from \"aurelia-framework\";\n\nlet NODE_ID = 0;\n\nexport class UITreeModel {\n  public children: UITreeNode[] = [];\n  public nodes: UITreeNode[] = [];\n\n  constructor(children: KeyValue[], private maxNodes = 0) {\n    this.children = children.map(child => new UITreeNode(child));\n    this.nodes = this.getExpandedTree(this.children.sortBy(\"label\"));\n  }\n\n  public filter(query: string) {\n    const filtered = this.filterNodes(this.children, query);\n    this.nodes = this.getExpandedTree(filtered.sortBy(\"label\"));\n  }\n\n  public toggleExpand(index: number): void {\n    const node = this.nodes[index] as UITreeNode;\n    node.expanded = !node.expanded;\n\n    if (node.expanded) {\n      let injectedChildren = node.children.sortBy(\"label\");\n      if (injectedChildren.length === 0) {\n        injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, node));\n      }\n      if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n        injectedChildren = [\n          ...injectedChildren.slice(0, this.maxNodes),\n          new UITreeNode({ id: \"node-more\", leaf: true }, node)\n        ];\n      }\n      this.nodes = [\n        ...this.nodes.slice(0, index + 1),\n        ...injectedChildren,\n        ...this.nodes.slice(index + 1)\n      ];\n    } else {\n      let lastIndex = this.nodes.lastIndex(node.id, \"parentId\");\n      while (this.nodes[lastIndex].expanded) {\n        lastIndex = this.nodes.lastIndex(this.nodes[lastIndex].id, \"parentId\");\n      }\n      this.nodes = [...this.nodes.slice(0, index + 1), ...this.nodes.slice(lastIndex + 1)];\n    }\n  }\n\n  public toggleMore(index: number): void {\n    const node = this.nodes[index] as UITreeNode;\n    node.showingMore = !node.showingMore;\n\n    const parentIndex = this.nodes.index(node.parentId, \"id\");\n    let injectedChildren = this.nodes[parentIndex].children.sortBy(\"label\");\n    if (!node.showingMore) {\n      if (injectedChildren.length === 0) {\n        injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, node));\n      }\n      if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n        injectedChildren = [...injectedChildren.slice(0, this.maxNodes)];\n      }\n    }\n    this.nodes = [\n      ...this.nodes.slice(0, parentIndex + 1),\n      ...injectedChildren,\n      this.nodes[index],\n      ...this.nodes.slice(index + 1)\n    ];\n  }\n\n  public getChecked(): UITreeNode[] {\n    const checked = [];\n    this.getCheckedNodes(this.children, checked);\n    return checked;\n  }\n\n  private getCheckedNodes(nodes, checked) {\n    nodes.forEach(node => {\n      if (node.checked === 1) {\n        checked.push(node);\n      }\n      if (node.children) {\n        this.getCheckedNodes(node.childNodes, checked);\n      }\n    });\n  }\n\n  private getExpandedTree(children) {\n    const nodes = [];\n    children.forEach(child => {\n      nodes.push(child);\n      if (child.expanded) {\n        let injectedChildren = child.children.sortBy(\"label\");\n        if (injectedChildren.length === 0) {\n          injectedChildren.push(new UITreeNode({ id: \"node-empty\", leaf: true }, child));\n        }\n        if (this.maxNodes > 0 && injectedChildren.length > this.maxNodes) {\n          injectedChildren = [\n            ...injectedChildren.slice(0, this.maxNodes),\n            new UITreeNode({ id: \"node-more\", leaf: true }, child)\n          ];\n        }\n        nodes.push(...this.getExpandedTree(injectedChildren));\n      }\n    });\n    return nodes;\n  }\n\n  private filterNodes(nodes, query) {\n    return nodes.filter(child => {\n      let retVal =\n        !query ||\n        child.label\n          .ascii()\n          .toLocaleLowerCase()\n          .includes(query.ascii().toLocaleLowerCase());\n      if (!child.leaf) {\n        child.filtered = this.filterNodes(child.childNodes, query);\n        retVal = retVal || child.filtered.length > 0;\n      }\n      return retVal;\n    });\n  }\n}\n\n// tslint:disable-next-line\nexport class UITreeNode {\n  @computedFrom(\"leaf\", \"icon\", \"expanded\", \"iconOpen\", \"iconClosed\")\n  get nodeIcon() {\n    return (this.leaf ? this.icon : this.expanded ? this.iconOpen : this.iconClosed) || this.icon;\n  }\n\n  @computedFrom(\"checked\")\n  get checkIcon() {\n    return this.checked === 2\n      ? \"tree-check-half\"\n      : this.checked\n      ? \"tree-check-on\"\n      : \"tree-check-off\";\n  }\n\n  @computedFrom(\"expanded\")\n  get expandIcon() {\n    return this.expanded ? \"tree-collapse\" : \"tree-expand\";\n  }\n\n  public id: string;\n  public icon: string;\n  public label: string;\n  public model: KeyValue;\n\n  public iconOpen: string;\n  public iconClosed: string;\n\n  public childNodes: UITreeNode[] = [];\n  public filtered: UITreeNode[] = null;\n\n  public leaf: boolean;\n  public parentId: string;\n  public level: number = 0;\n  public checked: number = 0;\n  public expanded: boolean;\n  public selected: boolean;\n  public disabled: boolean;\n  public showingMore: boolean;\n\n  constructor(node: KeyValue, private parent?: UITreeNode) {\n    this.id = node.id || `node__${NODE_ID++}`;\n    this.label = node.label;\n    this.model = node.model;\n\n    this.icon = node.icon;\n    this.iconOpen = node.iconOpen;\n    this.iconClosed = node.iconClosed;\n\n    this.leaf = !!node.leaf;\n    this.expanded = node.expanded;\n    this.disabled = node.disabled;\n\n    if (parent) {\n      this.level = parent.level + 1;\n      this.parentId = parent.id;\n    }\n\n    if (node.children) {\n      this.childNodes = node.children.map(child => new UITreeNode(child, this));\n    }\n  }\n\n  get children() {\n    return this.filtered || this.childNodes;\n  }\n\n  public toggleCheck() {\n    this.checked = this.checked ? 0 : 1;\n    this.children.forEach((c: UITreeNode) => {\n      c.updateChild(\"checked\", this.checked);\n    });\n    if (this.parent && this.parent.updatePartial) {\n      this.parent.updatePartial();\n    }\n  }\n\n  private updatePartial() {\n    const allChecked = this.children.every(node => node.checked === 1);\n    const allUnchecked = this.children.every(node => node.checked === 0);\n\n    this.checked = allChecked ? 1 : allUnchecked ? 0 : 2;\n    if (this.parent && this.parent.updatePartial) {\n      this.parent.updatePartial();\n    }\n  }\n\n  private updateChild(prop, v) {\n    this[prop] = v;\n    this.children.forEach((c: UITreeNode) => {\n      c.updateChild(prop, v);\n    });\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { bindable, computedFrom, inlineView } from \"aurelia-framework\";\nimport { UITreeNode } from \"../models/ui-tree-model\";\nimport view from \"./tree-node.html\";\nimport { UITreePanel } from \"./ui-tree-panel\";\n\n@inlineView(view)\nexport class TreeNode {\n  @bindable()\n  public node: UITreeNode;\n  @bindable()\n  public index: number;\n  @bindable()\n  protected tree: UITreePanel;\n\n  @computedFrom(\"tree.value\", \"node.id\")\n  get isSelected(): boolean {\n    return this.tree.value === this.node.id;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { UITreeModel, UITreeNode } from \"../models/ui-tree-model\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport { TreeNode } from \"./tree-node\";\n\n@customElement(\"ui-tree-panel\")\n@viewResources(TreeNode)\n@inlineView(`<template class=\"ui-tree__panel\"><ui-field nolabel class=\"ui-tree__search\" if.bind=\"searchable\">\n  <ui-input type=\"search\" placeholder=\"\\${labelSearch}\" value.bind=\"searchText\" \n  clear.trigger=\"searchTextChanged()\" input.trigger=\"searchTextChanged(searchText) & debounce:200\">\n    <ui-input-addon class=\"ui-text-muted\"><ui-icon icon=\"mdi mdi-magnify\"></ui-icon></ui-input-addon></ui-input></ui-field>\n  <div class=\"ui-tree__container\" nodeclick.delegate=\"itemClicked($event.detail)\" nodeover.delegate=\"itemOver($event.detail)\" nodeout.delegate=\"itemOut($event.detail)\">\n    <tree-node virtual-repeat.for=\"child of rootNode.nodes\" node.bind=\"child\" tree.bind=\"$parent\" index.bind=\"$index\"></tree-node>\n  </div></template>`)\nexport class UITreePanel {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public dataSource: KeyValue[];\n\n  @bindable()\n  public labelSearch: string = \"Search...\";\n  @bindable()\n  public labelEmpty: string = \"No Items\";\n  @bindable()\n  public labelLess: string = \"Show Less...\";\n  @bindable()\n  public labelMore: string = \"Show More...\";\n\n  @bindable()\n  public maxNodes: number;\n  @bindable()\n  public checkable: boolean | number = false;\n  @bindable()\n  public searchable: boolean = false;\n\n  private rootNode: UITreeModel;\n\n  constructor(protected element: Element) {\n    this.checkable = element.hasAttribute(\"checkable\");\n    this.searchable = element.hasAttribute(\"searchable\");\n  }\n\n  public select(node: UITreeNode) {\n    if (this.checkable !== false) {\n      if (node.level >= this.checkable) {\n        node.toggleCheck();\n        this.getCheckedValues();\n        this.element.dispatchEvent(UIInternal.createEvent(\"checked\", this.value));\n      }\n    } else {\n      return UIInternal.fireCallbackEvent(this, \"beforeselect\").then(b =>\n        b ? this.changeSelection(node) : false\n      );\n    }\n  }\n\n  protected bind(): void {\n    this.rootNode = new UITreeModel(this.dataSource, this.maxNodes);\n  }\n\n  protected dataSourceChanged(): void {\n    this.rootNode = new UITreeModel(this.dataSource, this.maxNodes);\n  }\n\n  protected toggleExpand(index): void {\n    this.rootNode.toggleExpand(index);\n  }\n\n  protected toggleMore(index): void {\n    this.rootNode.toggleMore(index);\n  }\n\n  protected toggleCheck(node): void {\n    node.toggleCheck();\n    this.getCheckedValues();\n    this.element.dispatchEvent(UIInternal.createEvent(\"checked\", this.value));\n  }\n\n  protected getCheckedValues() {\n    this.value = [];\n    this.model = [];\n    this.rootNode.getChecked().forEach(checkedNode => {\n      if (checkedNode.level >= this.checkable) {\n        this.value.push(checkedNode.id);\n        this.model.push(checkedNode.model);\n      }\n    });\n  }\n\n  protected searchTextChanged(query) {\n    this.rootNode.filter(query);\n  }\n\n  private changeSelection(node) {\n    this.value = node.id;\n    this.model = node.model;\n    this.element.dispatchEvent(UIInternal.createEvent(\"select\", this.value));\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { UITreePanel } from \"./ui-tree-panel\";\n\nexport const DataPanels = [UITreePanel];\n"],"names":["tslib_1.__decorate","computedFrom","bindable","inlineView","UIInternal","bindingMode","customElement","viewResources"],"mappings":"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"}