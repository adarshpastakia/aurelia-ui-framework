{"version":3,"file":"ui-shared.js","sources":["../../src/shared/ui-divider.ts","../../src/shared/ui-drag-handle.ts","../../src/shared/ui-drop.ts","../../src/shared/ui-filler.ts","../../src/shared/ui-loader.ts","../../src/shared/ui-text-divider.ts","../../src/shared/ui-shared.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { customElement, inlineView } from \"aurelia-framework\";\n\n@customElement(\"ui-divider\")\n@inlineView(\"<template class='ui-divider'><slot></slot></template>\")\nexport class UIDivider {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { customElement, inlineView } from \"aurelia-framework\";\nimport { UIInternal } from \"../utils/ui-internal\";\n\n@customElement(\"ui-drag-handle\")\n@inlineView(`<template class=\"ui-drag-handle\" ui-color=\"gray\"\n    mousedown.trigger=\"fireDragEvent($event,'dragstart')\" click.trigger=\"fireDragEvent($event,'dragend')\"><ui-svg-icon icon=\"drag\"></ui-svg-icon></template>`)\nexport class UIDragHandle {\n  constructor(protected element: Element) {}\n\n  protected fireDragEvent($event: UIEvent, evt) {\n    this.element.dispatchEvent(UIInternal.createEvent(evt));\n    return true;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2018\n * @license   : MIT\n */\nimport { Subscription } from \"aurelia-event-aggregator\";\nimport { bindable, containerless, customElement, inlineView } from \"aurelia-framework\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport { UITether } from \"../utils/ui-tether\";\n\n@containerless()\n@customElement(\"ui-drop\")\n@inlineView(\n  `<template><div slot=\"ui-drop\" class=\"ui-drop\" mouseup.delegate=\"closeDrop()\" data-open.bind=\"isOpen\">\n  <div ref=\"vmElement\" class=\"ui-drop__body \\${class}\" mouseup.delegate=\"close($event)\"><slot></slot></div>\n  </div></template>`\n)\nexport class UIDrop {\n  @bindable()\n  public class: string = \"\";\n\n  public vmElement: HTMLDivElement;\n\n  public isOpen: boolean = false;\n  public stretch: boolean = true;\n  public closeOnClick: boolean = true;\n  public attachToViewport: boolean = false;\n\n  public position: UITether.Position;\n  public anchorPosition: UITether.Position;\n  private tetherObj: UITether.Tether;\n\n  private anchorEl: Element;\n  private obClick: Subscription;\n  private obResize: Subscription;\n\n  constructor(protected element: Element) {\n    this.position = (element.getAttribute(\"position\") as UITether.Position) || \"tl\";\n    this.anchorPosition = (element.getAttribute(\"anchor\") as UITether.Position) || \"bl\";\n    this.closeOnClick = !isFalse(element.getAttribute(\"close-on-click\"));\n    this.attachToViewport = element.hasAttribute(\"attach-to-viewport\");\n  }\n\n  public tether(anchorEl: Element) {\n    this.tetherObj = UITether.tether((this.anchorEl = anchorEl), this.vmElement, {\n      anchorPosition: this.anchorPosition,\n      attachToViewport: this.attachToViewport,\n      position: this.position,\n      resize: this.stretch\n    });\n  }\n\n  public updatePosition() {\n    this.tetherObj.updatePosition();\n  }\n\n  public toggleDrop(open?: boolean): void {\n    this.disposeListeners();\n    this.vmElement.dataset.show = \"false\";\n    this.isOpen = open === undefined ? !this.isOpen : open;\n    if (this.isOpen) {\n      this.obClick = UIInternal.subscribe(UIInternal.EVT_VIEWPORT_CLICK, t => this.canClose(t));\n      this.obResize = UIInternal.subscribe(UIInternal.EVT_VIEWPORT_RESIZE, t =>\n        this.updatePosition()\n      );\n      UIInternal.queueMicroTask(() => {\n        this.tetherObj.updatePosition();\n        this.vmElement.dataset.show = \"true\";\n      });\n    }\n  }\n\n  public closeDrop() {\n    UIInternal.queueTask(() => {\n      this.isOpen = false;\n      this.disposeListeners();\n      this.element.dispatchEvent(UIInternal.createEvent(\"close\"));\n    });\n  }\n\n  protected disposeListeners(): void {\n    if (this.obClick) {\n      this.obClick.dispose();\n    }\n    if (this.obResize) {\n      this.obResize.dispose();\n    }\n  }\n\n  protected detached(): void {\n    this.disposeListeners();\n    if (this.tetherObj) {\n      this.tetherObj.dispose();\n    }\n  }\n\n  private canClose(t: Element): void {\n    if (!hasParent(t, this.vmElement) && !hasParent(t, this.anchorEl)) {\n      this.closeDrop();\n    }\n  }\n\n  private close($event: UIEvent) {\n    $event.stopEvent();\n    if (this.closeOnClick) {\n      this.closeDrop();\n    }\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { customElement, inlineView } from \"aurelia-framework\";\n\n@customElement(\"ui-filler\")\n@inlineView(\"<template class='ui-col ui-col--fill'></template>\")\nexport class UIFiller {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\n\n@customElement(\"ui-loader\")\n@inlineView(`<template><div ref=\"vmElement\" class=\"ui-loader\" if.bind=\"busy\">\n  <div><ui-svg-icon icon=\"loader\" class=\"ui-anim--spin\"></ui-svg-icon></div>\n</div></template>`)\nexport class UILoader {\n  @bindable()\n  public busy: boolean = false;\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { customElement, inlineView } from \"aurelia-framework\";\n\n@customElement(\"ui-text-divider\")\n@inlineView(\n  \"<template><fieldset class='ui-text-divider'><legend ref='vmElement'><slot></slot></legend></fieldset></template>\"\n)\nexport class UITextDivider {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { UIDivider } from \"./ui-divider\";\nimport { UIDragHandle } from \"./ui-drag-handle\";\nimport { UIDrop } from \"./ui-drop\";\nimport { UIFiller } from \"./ui-filler\";\nimport { UILoader } from \"./ui-loader\";\nimport { UITextDivider } from \"./ui-text-divider\";\n\nexport const Shared = [UIDivider, UIDrop, UIFiller, UILoader, UITextDivider, UIDragHandle];\n"],"names":["customElement","inlineView","UIInternal","UITether","tslib_1.__decorate","bindable","containerless"],"mappings":"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"}