{"version":3,"file":"ui-viewport.js","sources":["../../src/viewport/ui-router-view.ts","../../src/viewport/ui-viewport-footer.ts","../../src/viewport/ui-viewport-header.ts","../../src/viewport/ui-viewport.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, containerless, customElement, inlineView } from \"aurelia-framework\";\n\n@containerless()\n@customElement(\"ui-router-view\")\n@inlineView(\n  `<template><router-view swap-order=\"with\" name.bind=\"name\" class=\"ui-router-view\" ref=\"vmElement\"></router-view></template>`\n)\nexport class UIRouterView {\n  @bindable() public name: string = \"\";\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, containerless, customElement, inlineView } from \"aurelia-framework\";\n\n@containerless()\n@customElement(\"ui-viewport-footer\")\n@inlineView(\n  `<template><footer dir.bind=\"dir\" class=\"ui-viewport__footer\" slot=\"ui-viewport__footer\" ref=\"vmElement\"><slot></slot></footer></template>`\n)\nexport class UIViewportFooter {\n  @bindable()\n  public dir = \"ltr\";\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, containerless, customElement, inlineView } from \"aurelia-framework\";\n\n@containerless()\n@customElement(\"ui-viewport-header\")\n@inlineView(\n  `<template><header dir.bind=\"dir\" class=\"ui-viewport__header\" slot=\"ui-viewport__header\" ref=\"vmElement\"><slot></slot></header></template>`\n)\nexport class UIViewportHeader {\n  @bindable()\n  public dir = \"ltr\";\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { customElement, inlineView, ViewSlot } from \"aurelia-framework\";\nimport { AppRouter } from \"aurelia-router\";\nimport { UIAppConfig } from \"../utils/ui-app-config\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport { UIRouterView } from \"./ui-router-view\";\nimport { UIViewportFooter } from \"./ui-viewport-footer\";\nimport { UIViewportHeader } from \"./ui-viewport-header\";\nimport view from \"./ui-viewport.html\";\n\n@customElement(\"ui-viewport\")\n@inlineView(view)\nclass UIViewport {\n  private dialogContainer;\n  private taskbarContainer;\n\n  constructor(private appConfig: UIAppConfig, protected router: AppRouter) {\n    window.addEventListener(\"resize\", () => UIInternal.broadcast(UIInternal.EVT_VIEWPORT_RESIZE));\n    document.addEventListener(\"mouseup\", $event => this.broadcastEvent($event));\n  }\n\n  protected attached(): void {\n    this.appConfig.DialogContainer = new ViewSlot(this.dialogContainer, true);\n    this.appConfig.TaskbarContainer = new ViewSlot(this.taskbarContainer, true);\n\n    this.appConfig.DialogContainer.attached();\n    this.appConfig.TaskbarContainer.attached();\n  }\n\n  protected broadcastEvent($event: MouseEvent): void {\n    if (!hasParent($event.target as HTMLElement, this.appConfig.FloatingContainer)) {\n      UIInternal.broadcast(UIInternal.EVT_VIEWPORT_CLICK, $event.target);\n    }\n  }\n}\n\nexport const Viewport = [UIViewport, UIViewportHeader, UIViewportFooter, UIRouterView];\n"],"names":["tslib_1.__decorate","bindable","containerless","customElement","inlineView","UIInternal","ViewSlot","UIAppConfig","AppRouter"],"mappings":";;EAcA;MALA;UAMqB,SAAI,GAAW,EAAE,CAAC;OACtC;MADaA;UAAXC,yBAAQ,EAAE;;gDAA0B;MAD1B,YAAY;UALxBC,8BAAa,EAAE;UACfC,8BAAa,CAAC,gBAAgB,CAAC;UAC/BC,2BAAU,CACT,oIAA4H,CAC7H;SACY,YAAY,CAExB;MAAD,mBAAC;GAFD,IAEC;;ECFD;MALA;UAOS,QAAG,GAAG,KAAK,CAAC;OACpB;MADCJ;UADCC,yBAAQ,EAAE;;mDACQ;MAFR,gBAAgB;UAL5BC,8BAAa,EAAE;UACfC,8BAAa,CAAC,oBAAoB,CAAC;UACnCC,2BAAU,CACT,mJAA2I,CAC5I;SACY,gBAAgB,CAG5B;MAAD,uBAAC;GAHD,IAGC;;ECHD;MALA;UAOS,QAAG,GAAG,KAAK,CAAC;OACpB;MADCJ;UADCC,yBAAQ,EAAE;;mDACQ;MAFR,gBAAgB;UAL5BC,8BAAa,EAAE;UACfC,8BAAa,CAAC,oBAAoB,CAAC;UACnCC,2BAAU,CACT,mJAA2I,CAC5I;SACY,gBAAgB,CAG5B;MAAD,uBAAC;GAHD,IAGC;;;;ECCD;MAIE,oBAAoB,SAAsB,EAAY,MAAiB;UAAvE,iBAGC;UAHmB,cAAS,GAAT,SAAS,CAAa;UAAY,WAAM,GAAN,MAAM,CAAW;UACrE,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,cAAM,OAAAC,oBAAU,CAAC,SAAS,CAACA,oBAAU,CAAC,mBAAmB,CAAC,GAAA,CAAC,CAAC;UAC9F,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAA,MAAM,IAAI,OAAA,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAA,CAAC,CAAC;OAC7E;MAES,6BAAQ,GAAlB;UACE,IAAI,CAAC,SAAS,CAAC,eAAe,GAAG,IAAIC,yBAAQ,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;UAC1E,IAAI,CAAC,SAAS,CAAC,gBAAgB,GAAG,IAAIA,yBAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;UAE5E,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC;UAC1C,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;OAC5C;MAES,mCAAc,GAAxB,UAAyB,MAAkB;UACzC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAqB,EAAE,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,EAAE;cAC9ED,oBAAU,CAAC,SAAS,CAACA,oBAAU,CAAC,kBAAkB,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;WACpE;OACF;MArBG,UAAU;UAFfF,8BAAa,CAAC,aAAa,CAAC;UAC5BC,2BAAU,CAAC,IAAI,CAAC;qDAKgBG,qBAAW,EAAoBC,uBAAS;SAJnE,UAAU,CAsBf;MAAD,iBAAC;GAtBD,IAsBC;AAED,MAAa,QAAQ,GAAG,CAAC,UAAU,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,YAAY,CAAC;;;;;;;;"}