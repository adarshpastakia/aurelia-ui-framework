{"version":3,"file":"ui-lists.js","sources":["../../src/lists/ui-dropdown.ts","../../src/lists/list-container.ts","../../src/lists/list-input.ts","../../src/lists/list-maker.ts","../../src/lists/ui-list.ts","../../src/lists/ui-select.ts","../../src/lists/ui-lists.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, computedFrom, customElement, inlineView } from \"aurelia-framework\";\nimport { UIDrop } from \"../shared/ui-drop\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport view from \"./ui-dropdown.html\";\n\n@customElement(\"ui-dropdown\")\n@inlineView(view)\nexport class UIDropdown {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public placeholder: string = \"Select\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public iconProperty: string = \"\";\n  @bindable()\n  public iconPrefix: string = \"\";\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public disabled: boolean = false;\n\n  protected dropEl: UIDrop;\n  protected model: AnyObject = undefined;\n\n  constructor(protected element: Element) {}\n\n  protected attached() {\n    this.dropEl.tether(this.element);\n    this.valueChanged();\n  }\n\n  protected valueChanged(): void {\n    if (this.options) {\n      this.model = this.options.find(o => (o[this.valueProperty] || o) === this.value);\n    }\n  }\n\n  protected select(model: AnyObject): void {\n    this.model = model;\n    this.value = this.model[this.valueProperty] || this.model;\n  }\n\n  @computedFrom(\"model\")\n  get selectedLabel() {\n    return !isNull(this.model) ? this.model[this.labelProperty] || this.model : this.placeholder;\n  }\n\n  private toggleDrop($event: Event): void {\n    $event.stopEvent();\n    const beforeEvent = this.dropEl.isOpen ? \"beforeopen\" : \"beforeclose\";\n    const afterEvent = this.dropEl.isOpen ? \"close\" : \"open\";\n    if (this.element.dispatchEvent(UIInternal.createEvent(beforeEvent)) !== false) {\n      this.dropEl.toggleDrop();\n      this.element.dispatchEvent(UIInternal.createEvent(afterEvent));\n    }\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { containerless, inlineView, processContent } from \"aurelia-framework\";\nimport view from \"./list-container.html\";\n\n@containerless()\n@inlineView(view)\n@processContent((compiler, resources, node, instruction) => {\n  instruction.inheritBindingContext = true;\n  return true;\n})\nexport class ListContainer {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { containerless, inlineView, processContent } from \"aurelia-framework\";\nimport view from \"./list-input.html\";\n\n@containerless()\n@inlineView(view)\n@processContent((compiler, resources, node, instruction) => {\n  instruction.inheritBindingContext = true;\n  return true;\n})\nexport class ListInput {}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { BaseInput } from \"../forms/base-input\";\nimport { UIInternal } from \"../utils/ui-internal\";\n\nconst KEY_DOWN = 40;\nconst KEY_UP = 38;\nconst BACKSPACE = 8;\nconst ENTER = 13;\n\nexport class ListMaker extends BaseInput {\n  public value: AnyObject = undefined;\n  public model: AnyObject = undefined;\n\n  public errors: string[];\n\n  public name: string = \"\";\n  public placeholder: string = \"\";\n\n  public labelProperty: string = \"\";\n  public valueProperty: string = \"\";\n  public groupProperty: string = \"\";\n  public query: ({ query }) => AnyObject[];\n  public options: AnyObject[] = [];\n\n  public readonly: boolean = false;\n  public disabled: boolean = false;\n\n  public noOptionsText: string = \"No Options\";\n\n  protected template;\n  protected innerOptions;\n\n  protected multiple: boolean = false;\n  protected listContainer: Element;\n\n  protected valueEl: Element;\n\n  protected inputValue: string = \"\";\n  protected isLoaded = false;\n  protected isLoading = false;\n  protected isGrouped = false;\n  protected isFiltered = false;\n  protected ignoreChange = false;\n  protected allowAny = false;\n\n  protected hilightIndex = -1;\n\n  protected matcher: ({ option, value }) => boolean;\n\n  protected valueChanged() {\n    if (this.ignoreChange) {\n      return;\n    }\n    if (!this.valueProperty) {\n      this.model = this.value;\n      if (!this.multiple) {\n        this.inputValue = this.value ? this.value[this.labelProperty] || this.value : \"\";\n      }\n      return;\n    }\n    if (this.options && !isNull(this.value)) {\n      if (this.multiple) {\n        this.model = this.options.filter(o => {\n          if (this.matcher) {\n            return this.value.some(value => {\n              return this.matcher({ option: o, value });\n            });\n          } else {\n            return this.value.includes(o[this.valueProperty] || o);\n          }\n        });\n      } else {\n        this.model = this.options.find(o => {\n          if (this.matcher) {\n            return this.matcher({ option: o, value: this.value });\n          } else {\n            return this.value === (o[this.valueProperty] || o);\n          }\n        });\n      }\n    } else {\n      this.model = null;\n      this.inputValue = \"\";\n    }\n    if (!this.dropEl) {\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--selected\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n    }\n    this.resetQuery();\n  }\n\n  protected toggleDrop(open?: boolean): boolean {\n    if (this.dropEl) {\n      if (open === true && this.dropEl.isOpen) {\n        UIInternal.queueMicroTask(() => this.dropEl.updatePosition());\n        return;\n      }\n      if (super.toggleDrop(open)) {\n        this.loadOptions();\n      }\n    }\n  }\n\n  protected loadOptions() {\n    if (this.query) {\n      this.fetchOptions();\n    } else {\n      this.buildOptions(this.options);\n    }\n  }\n\n  protected filterOptions() {\n    this.isFiltered = !!this.inputValue;\n    if (this.query) {\n      this.fetchOptions(this.inputValue);\n    } else {\n      const query = this.inputValue.ascii().toLowerCase();\n      const options = this.options.filter(o =>\n        (o[this.labelProperty] || o)\n          .toString()\n          .ascii()\n          .toLowerCase()\n          .includes(query)\n      );\n      this.buildOptions(options);\n    }\n  }\n\n  protected selectOption(model) {\n    this.ignoreChange = true;\n    this.hilightIndex = -1;\n    if (this.multiple) {\n      if (!(this.value || []).includes(model[this.valueProperty] || model)) {\n        this.value = this.value\n          ? [...this.value, model[this.valueProperty] || model]\n          : [model[this.valueProperty] || model];\n        this.model = this.model ? [...this.model, model] : [model];\n      }\n      this.inputValue = \"\";\n      this.inputEl.focus();\n      this.inputEl.select();\n    } else {\n      if (this.labelProperty) {\n        model.$label = model[this.labelProperty] || model;\n      }\n      this.value = model[this.valueProperty] || model;\n      this.model = model;\n      this.resetQuery();\n      if (this.dropEl) {\n        this.dropEl.closeDrop();\n      }\n    }\n    if (this.isFiltered) {\n      this.isFiltered = false;\n      this.loadOptions();\n    }\n    this.element.dispatchEvent(UIInternal.createEvent(\"change\", this.value));\n    this.element.dispatchEvent(UIInternal.createEvent(\"select\", this.model));\n    setTimeout(() => (this.ignoreChange = false), 500);\n  }\n\n  protected removeOption(model) {\n    this.ignoreChange = true;\n    this.model = [...this.model.filter(m => m !== model)];\n    this.value = this.value.filter(m => m !== (model[this.valueProperty] || model));\n    setTimeout(() => (this.ignoreChange = false), 500);\n  }\n\n  protected resetQuery(clearFilter?: boolean) {\n    this.hilightIndex = -1;\n    if (this.multiple) {\n      this.inputValue = \"\";\n    } else {\n      this.inputValue = this.model\n        ? (this.model[this.labelProperty] || this.model).replace(\"<u>\", \"\").replace(\"</u>\", \"\")\n        : \"\";\n    }\n    if (clearFilter && this.isFiltered) {\n      this.isFiltered = false;\n      this.loadOptions();\n    }\n  }\n\n  protected clear() {\n    this.model = null;\n    this.value = null;\n    this.inputValue = \"\";\n    this.inputEl.focus();\n    if (this.isFiltered) {\n      this.loadOptions();\n    }\n  }\n\n  private async fetchOptions(query?: string) {\n    this.showLoading();\n    const result = await this.query({ query });\n    if (!this.options) {\n      this.options = result;\n    }\n    this.buildOptions(result || []);\n  }\n\n  private showLoading() {\n    this.isLoaded = false;\n    this.isLoading = true;\n    this.innerOptions = [];\n    if (this.dropEl) {\n      UIInternal.queueMicroTask(() => this.dropEl.updatePosition());\n    }\n  }\n\n  private buildOptions(options: AnyObject[], silent: boolean = false): void {\n    if (!silent) {\n      this.showLoading();\n    }\n    const optionsClone = options.map(o => (isString(o) ? `${o}` : { ...o }));\n    UIInternal.queueTask(() => {\n      this.isLoading = false;\n\n      if (this.groupProperty) {\n        const groups = optionsClone\n          .sortBy([this.groupProperty, this.labelProperty])\n          .groupBy(this.groupProperty);\n        groups.forEach((items, label) =>\n          this.innerOptions.push({ __type: \"group\", label }, ...items)\n        );\n      } else {\n        this.innerOptions = optionsClone.sortBy(this.labelProperty);\n      }\n      this.isLoaded = true;\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--selected\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n      if (this.dropEl) {\n        UIInternal.queueTask(() => this.dropEl.updatePosition());\n      }\n    });\n  }\n\n  private listClass(option, index): string {\n    const classes = [\"ui-list__item\"];\n    option.__selected = false;\n    if (!this.multiple) {\n      if (this.matcher) {\n        if (this.matcher({ option, value: this.value })) {\n          option.__selected = true;\n          classes.push(\"ui-list__item--selected\");\n        }\n      } else if ((option[this.valueProperty] || option) === this.value) {\n        option.__selected = true;\n        classes.push(\"ui-list__item--selected\");\n      }\n    } else if (this.multiple && this.value) {\n      if (this.matcher) {\n        this.value.forEach(value => {\n          if (this.matcher({ option, value })) {\n            option.__selected = true;\n            classes.push(\"ui-list__item--disabled\");\n          }\n        });\n      } else if (this.value.includes(option[this.valueProperty] || option)) {\n        option.__selected = true;\n        classes.push(\"ui-list__item--disabled\");\n      }\n    }\n    if (this.hilightIndex === index) {\n      classes.push(\"ui-list__item--hilight\");\n    }\n    return classes.join(\" \");\n  }\n\n  private markOption(option: AnyObject): void {\n    let lbl = option[this.labelProperty] || `${option}`;\n    if (isEmpty(this.inputValue)) {\n      return lbl;\n    }\n    const rx = new RegExp(this.inputValue, \"i\");\n    const asc = lbl.toString().ascii();\n    if (rx.test(asc)) {\n      const start = asc.search(rx);\n      lbl =\n        lbl.substr(0, start) +\n        \"<u>\" +\n        lbl.substr(start, this.inputValue.length) +\n        \"</u>\" +\n        lbl.substr(start + this.inputValue.length);\n    }\n    return lbl;\n  }\n\n  private buildOption(option: AnyObject, el: Element, unmark: boolean = false): boolean {\n    if (el) {\n      el.innerHTML = \"\";\n      const tpl = this.template\n        ? this.template.outerHTML\n        : `<template><div innerhtml.bind=\"$label\"></div></template>`;\n      const model = {\n        $label:\n          this.isFiltered && !unmark\n            ? this.markOption(option)\n            : option[this.labelProperty] || option,\n        $model: option,\n        $value: option[this.valueProperty] || option\n      };\n      // if (isObject(option)) {\n      //   Object.assign(model, option);\n      // }\n      const view = UIInternal.compileTemplate(tpl, model);\n      view.appendNodesTo(el);\n    }\n    return true;\n  }\n\n  private checkKeyEvent($event: KeyboardEvent): boolean {\n    if ([KEY_DOWN, KEY_UP].includes($event.keyCode)) {\n      if (this.dropEl && !this.dropEl.isOpen) {\n        this.dropEl.toggleDrop();\n      }\n      if ($event.keyCode === KEY_DOWN) {\n        this.hilightIndex =\n          this.hilightIndex === -1 && this.model\n            ? this.innerOptions.indexOf(this.model)\n            : this.hilightIndex >= this.innerOptions.length || this.hilightIndex < -1\n            ? -1\n            : this.hilightIndex;\n        while (\n          this.hilightIndex + 1 !== this.innerOptions.length &&\n          (this.innerOptions[this.hilightIndex + 1].__type === \"group\" ||\n            this.innerOptions[this.hilightIndex + 1].__selected ||\n            this.innerOptions[this.hilightIndex + 1].__disabled)\n        ) {\n          this.hilightIndex++;\n        }\n        this.hilightIndex = this.hilightIndex + 1;\n      }\n      if ($event.keyCode === KEY_UP) {\n        this.hilightIndex =\n          this.hilightIndex === -1 && this.model\n            ? this.innerOptions.indexOf(this.model)\n            : this.hilightIndex === -1\n            ? this.innerOptions.length\n            : this.hilightIndex;\n\n        while (\n          this.hilightIndex - 1 > 0 &&\n          (this.innerOptions[this.hilightIndex - 1].__type === \"group\" ||\n            this.innerOptions[this.hilightIndex - 1].__selected ||\n            this.innerOptions[this.hilightIndex - 1].__disabled)\n        ) {\n          this.hilightIndex--;\n        }\n        this.hilightIndex = this.hilightIndex - 1;\n      }\n      UIInternal.queueTask(() => {\n        const selected = this.listContainer.querySelector(\".ui-list__item--hilight\");\n        if (selected) {\n          selected.scrollIntoView({ block: \"nearest\" });\n        }\n      });\n      $event.stopEvent();\n    } else if (this.hilightIndex !== -1 && $event.keyCode === ENTER) {\n      this.selectOption(this.innerOptions[this.hilightIndex]);\n      $event.stopEvent();\n    } else if (this.allowAny && !!this.inputValue.trim() && $event.keyCode === ENTER) {\n      this.selectOption(this.inputValue);\n      $event.stopEvent();\n    } else if (this.multiple && $event.keyCode === BACKSPACE) {\n      if (this.model.length > 0 && this.inputValue.length === 0) {\n        $event.stopEvent();\n        this.removeOption(this.model.last());\n      }\n    } else {\n      this.fireEnter($event);\n    }\n    return true;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { InputWrapper } from \"../forms/input-wrapper\";\nimport { ListContainer } from \"./list-container\";\nimport { ListInput } from \"./list-input\";\nimport { ListMaker } from \"./list-maker\";\nimport view from \"./ui-list.html\";\n\n@customElement(\"ui-list\")\n@viewResources(InputWrapper, ListInput, ListContainer)\n@inlineView(view)\nexport class UIList extends ListMaker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public height: string = \"20em\";\n  @bindable()\n  public placeholder: string = \"\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public groupProperty: string = \"\";\n  @bindable()\n  public query: ({ query }) => AnyObject[];\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public readonly: boolean = false;\n  @bindable()\n  public disabled: boolean = false;\n\n  @bindable()\n  public noOptionsText: string = \"No Options\";\n\n  @bindable()\n  public matcher: ({ option, value }) => boolean;\n\n  constructor(protected element: Element) {\n    super(element);\n    this.multiple = element.hasAttribute(\"multiple\");\n    this.allowAny = element.hasAttribute(\"allow-any\");\n\n    this.template = this.element.querySelector(\"template\");\n  }\n\n  protected bind(): void {\n    if (!isNull(this.model)) {\n      if (this.multiple) {\n        this.value = this.multiple\n          ? this.model.map(o => o[this.valueProperty] || o)\n          : this.model[this.labelProperty] || this.model;\n      }\n    }\n    this.isGrouped = !!this.groupProperty;\n    this.valueChanged();\n  }\n\n  protected attached(): void {\n    this.loadOptions();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { InputWrapper } from \"../forms/input-wrapper\";\nimport { ListContainer } from \"./list-container\";\nimport { ListInput } from \"./list-input\";\nimport { ListMaker } from \"./list-maker\";\nimport view from \"./ui-select.html\";\n\n@customElement(\"ui-select\")\n@viewResources(InputWrapper, ListInput, ListContainer)\n@inlineView(view)\nexport class UISelect extends ListMaker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public value: AnyObject = undefined;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public model: AnyObject = undefined;\n\n  @bindable()\n  public errors: string[];\n\n  @bindable()\n  public name: string = \"\";\n  @bindable()\n  public placeholder: string = \"\";\n\n  @bindable()\n  public labelProperty: string = \"\";\n  @bindable()\n  public valueProperty: string = \"\";\n  @bindable()\n  public groupProperty: string = \"\";\n  @bindable()\n  public query: ({ query }) => AnyObject[];\n  @bindable()\n  public options: AnyObject[];\n\n  @bindable()\n  public readonly: boolean = false;\n  @bindable()\n  public disabled: boolean = false;\n\n  @bindable()\n  public noOptionsText: string = \"No Options\";\n\n  @bindable()\n  public matcher: ({ option, value }) => boolean;\n\n  constructor(protected element: Element) {\n    super(element);\n    this.dropHandle = \"caret\";\n    this.multiple = element.hasAttribute(\"multiple\");\n    this.allowAny = element.hasAttribute(\"allow-any\");\n\n    this.template = this.element.querySelector(\"template\");\n  }\n\n  protected attached(): void {\n    this.dropEl.attachToViewport = isTrue(this.element.getAttribute(\"attach-to-viewport\"));\n    this.dropEl.closeOnClick = !this.multiple;\n    this.dropEl.tether(this.element);\n  }\n\n  protected bind(): void {\n    if (!isNull(this.model)) {\n      if (this.multiple) {\n        this.value = this.multiple\n          ? this.model.map(o => o[this.valueProperty] || o)\n          : this.model[this.labelProperty] || this.model;\n      }\n    }\n    this.isGrouped = !!this.groupProperty;\n    this.valueChanged();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { UIDropdown } from \"./ui-dropdown\";\nimport { UIList } from \"./ui-list\";\nimport { UISelect } from \"./ui-select\";\n\nexport const Lists = [UIList, UISelect, UIDropdown];\n"],"names":["UIInternal","tslib_1.__decorate","bindable","bindingMode","computedFrom","customElement","inlineView","containerless","view","processContent","tslib_1.__extends","BaseInput","viewResources","InputWrapper"],"mappings":"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"}