{"version":3,"file":"ui-calendar.js","sources":["../../src/calendar/calendar-head.ts","../../src/calendar/calendar-utils.ts","../../src/calendar/days-page.ts","../../src/calendar/months-page.ts","../../src/calendar/time-page.ts","../../src/calendar/years-page.ts","../../src/calendar/ui-date-picker.ts","../../src/calendar/ui-range-picker.ts","../../src/calendar/ui-calendar.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport view from \"./calendar-head.html\";\nimport { IHeaderConfig } from \"./calendar-utils\";\n\n@customElement(\"calendar-head\")\n@inlineView(view)\nexport class CalendarHead {\n  public static TITLE = \"title\";\n\n  @bindable()\n  public showFirstLast: boolean = false;\n  @bindable()\n  public config: IHeaderConfig = {};\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  endOfDecade,\n  endOfMonth,\n  endOfWeek,\n  endOfYear,\n  format,\n  isAfter,\n  isBefore,\n  isValid,\n  parseISO,\n  startOfDay,\n  startOfDecade,\n  startOfMinute,\n  startOfMonth,\n  startOfWeek,\n  startOfYear\n} from \"date-fns\";\n\nexport enum CALENDAR_VIEWS {\n  DAYS,\n  MONTHS,\n  YEARS,\n  DECADES\n}\n\nexport enum CALENDAR_NAVIGATION {\n  FIRST = \"first\",\n  LAST = \"last\",\n  PREV = \"prev\",\n  NEXT = \"next\"\n}\n\nexport enum CALENDAR_GRAIN {\n  DAY = \"$day\",\n  WEEK = \"$week\",\n  MONTH = \"$month\",\n  YEAR = \"$year\"\n}\n\nexport type IDateDisabled = string[] | (({ date: Date }) => boolean) | undefined;\n\nexport interface IDatePreset {\n  preset: string;\n  label: string;\n}\n\nexport interface IDateConfig {\n  date?: [Date, Date] | Date | undefined;\n\n  minDate: Date | undefined;\n  maxDate: Date | undefined;\n\n  disabled: IDateDisabled;\n\n  page: CALENDAR_VIEWS;\n}\n\nexport interface IHeaderConfig {\n  firstDisabled?: boolean;\n  prevDisabled?: boolean;\n  lastDisabled?: boolean;\n  nextDisabled?: boolean;\n\n  firstTooltip?: string;\n  lastTooltip?: string;\n  prevTooltip?: string;\n  nextTooltip?: string;\n}\n\nexport const parseDate = (date: Date | string | undefined): Date => {\n  if (isString(date)) {\n    const dt = startOfMinute(new Date());\n    if (date.startsWith(CALENDAR_GRAIN.DAY)) {\n      return addDays(dt, parseInt(date.replace(CALENDAR_GRAIN.DAY, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.WEEK)) {\n      return addWeeks(dt, parseInt(date.replace(CALENDAR_GRAIN.WEEK, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.MONTH)) {\n      return addMonths(dt, parseInt(date.replace(CALENDAR_GRAIN.MONTH, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.YEAR)) {\n      return addYears(dt, parseInt(date.replace(CALENDAR_GRAIN.YEAR, \"\") || \"0\", 10));\n    } else {\n      return parseISO(date);\n    }\n  } else if (date) {\n    return date as Date;\n  }\n  return null;\n};\n\nexport const parseRange = (date: string | [string, string] | undefined): [Date, Date] => {\n  if (isString(date)) {\n    const before = date.includes(\"-\");\n    if (date.startsWith(CALENDAR_GRAIN.DAY)) {\n      const today = startOfDay(new Date());\n      const diff = addDays(new Date(), parseInt(date.replace(CALENDAR_GRAIN.DAY, \"\") || \"0\", 10));\n      return before ? [diff, today] : [today, diff];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.WEEK)) {\n      const start = startOfWeek(new Date());\n      const end = endOfWeek(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.WEEK, \"\") || \"0\", 10);\n      return [addWeeks(start, diff), addWeeks(end, diff)];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.MONTH)) {\n      const start = startOfMonth(new Date());\n      const end = endOfMonth(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.MONTH, \"\") || \"0\", 10);\n      return [addMonths(start, diff), addMonths(end, diff)];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.YEAR)) {\n      const start = startOfYear(new Date());\n      const end = endOfYear(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.YEAR, \"\") || \"0\", 10);\n      return [addYears(start, diff), addYears(end, diff)];\n    }\n  } else if (isArray(date)) {\n    return [parseISO(date[0]), parseISO(date[1])];\n  }\n  return null;\n};\n\nexport const getTitle = (month: Date, view: CALENDAR_VIEWS) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    return format(month, \"MMMM yyyy\");\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    return format(month, \"yyyy\");\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    return format(startOfDecade(month), \"yyyy\") + \"-\" + format(endOfDecade(month), \"yyyy\");\n  }\n  return \"-\";\n};\n\nexport const changeMonth = (month: Date, view: CALENDAR_VIEWS, grain: string) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.FIRST:\n        return addMonths(month, -12);\n      case CALENDAR_NAVIGATION.LAST:\n        return addMonths(month, 12);\n      case CALENDAR_NAVIGATION.PREV:\n        return addMonths(month, -1);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addMonths(month, 1);\n    }\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.PREV:\n        return addYears(month, -1);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addYears(month, 1);\n    }\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.PREV:\n        return addYears(month, -10);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addYears(month, 10);\n    }\n  }\n  return month;\n};\n\nexport const buildHeaderConfig = (month: Date, view: CALENDAR_VIEWS, config: IDateConfig) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    return {\n      firstDisabled: isBeforeMin(month, startOfYear(config.minDate), -12),\n      lastDisabled: isAfterMax(month, endOfYear(config.maxDate), 12),\n      prevDisabled: isBeforeMin(month, startOfMonth(config.minDate), -1),\n      nextDisabled: isAfterMax(month, endOfMonth(config.maxDate), 1),\n\n      firstTooltip: format(addMonths(month, -12), \"MMM yyyy\"),\n      lastTooltip: format(addMonths(month, 12), \"MMM yyyy\"),\n      prevTooltip: format(addMonths(month, -1), \"MMM yyyy\"),\n      nextTooltip: format(addMonths(month, 1), \"MMM yyyy\")\n    };\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    return {\n      prevDisabled: isBeforeMin(month, startOfYear(config.minDate), -12),\n      nextDisabled: isAfterMax(month, endOfYear(config.maxDate), 12),\n      prevTooltip: format(addYears(month, -1), \"yyyy\"),\n      nextTooltip: format(addYears(month, 1), \"yyyy\")\n    };\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    const start = startOfDecade(month);\n    const end = endOfDecade(month);\n    return {\n      prevDisabled: isBeforeMin(month, startOfDecade(config.minDate), -120),\n      nextDisabled: isAfterMax(month, endOfDecade(config.maxDate), 120),\n      prevTooltip: format(addYears(start, -10), \"yyyy\") + \"-\" + format(addYears(start, -1), \"yyyy\"),\n      nextTooltip: format(addYears(end, 1), \"yyyy\") + \"-\" + format(addYears(end, 10), \"yyyy\")\n    };\n  }\n};\n\nexport const isBeforeMin = (month: Date, minDate: Date, n: number = 0) => {\n  return isValid(minDate) ? isBefore(addMonths(startOfDay(month), n), startOfDay(minDate)) : false;\n};\n\nexport const isAfterMax = (month: Date, maxDate: Date, n: number = 0) => {\n  return isValid(maxDate) ? isAfter(addMonths(startOfDay(month), n), startOfDay(maxDate)) : false;\n};\n\nexport const isDisabled = (config: IDateConfig, date: Date): boolean => {\n  let min = config.minDate;\n  let max = config.maxDate;\n\n  if (config.page === CALENDAR_VIEWS.DAYS) {\n    min = startOfDay(min);\n    max = startOfDay(max);\n  }\n  if (config.page === CALENDAR_VIEWS.MONTHS) {\n    min = startOfMonth(startOfDay(min));\n    max = endOfMonth(startOfDay(max));\n  }\n  if (config.page === CALENDAR_VIEWS.YEARS) {\n    min = startOfYear(startOfDay(min));\n    max = startOfYear(startOfDay(max));\n  }\n  if (isBefore(date, min)) {\n    return true;\n  }\n  if (isAfter(date, max)) {\n    return true;\n  }\n  if (config.page === CALENDAR_VIEWS.DAYS && config.disabled) {\n    const { disabled } = config;\n    if (isArray(disabled)) {\n      return disabled.includes(startOfDay(date).toISOString());\n    } else if (isFunction(disabled)) {\n      return disabled({ date });\n    }\n  }\n  return false;\n};\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport {\n  addDays,\n  addWeeks,\n  endOfDay,\n  format,\n  getDay,\n  isAfter,\n  isBefore,\n  isSameDay,\n  isSameMonth,\n  setDay,\n  startOfDay,\n  startOfMonth,\n  startOfWeek\n} from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./days-page.html\";\n\n@customElement(\"days-page\")\n@inlineView(view)\nexport class DaysPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected pageStart: Date;\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected monthChanged(newMonth) {\n    this.month = newMonth || new Date();\n    const start = startOfMonth(this.month);\n    this.pageStart = startOfWeek(startOfMonth(this.month));\n    if (getDay(start) < 3) {\n      this.pageStart = addWeeks(this.pageStart, -1);\n    }\n  }\n\n  protected weekTitle(week: number): string {\n    return format(setDay(new Date(), week), \"E\").substr(0, 2);\n  }\n\n  protected weekNumber(week: number): string {\n    return format(addWeeks(this.pageStart, week), \"ww\");\n  }\n\n  protected getDate(week: number, day: number): KeyValue {\n    const date = addDays(addWeeks(this.pageStart, week), day);\n\n    const classes = [];\n    if (!isSameMonth(this.month, date)) {\n      classes.push(\"date-other\");\n    }\n    if (isSameDay(new Date(), date)) {\n      classes.push(\"date-today\");\n    }\n    if (this.config) {\n      if (isArray(this.config.date)) {\n        if (\n          isAfter(startOfDay(date), this.config.date[0]) &&\n          isBefore(endOfDay(date), this.config.date[1])\n        ) {\n          classes.push(\"select-hilight\");\n        }\n        if (isSameDay(date, this.config.date[0])) {\n          classes.push(\"select-start\");\n        }\n        if (isSameDay(date, this.config.date[1])) {\n          classes.push(\"select-end\");\n        }\n      }\n      if (isDate(this.config.date) && isSameDay(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled(this.config, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"dd\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport { format, isSameMonth, setMonth } from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./months-page.html\";\n\n@customElement(\"months-page\")\n@inlineView(view)\nexport class MonthsPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected getMonth(month: number): KeyValue {\n    const date = setMonth(this.month, month);\n\n    const classes = [];\n    if (this.config) {\n      if (isDate(this.config.date) && isSameMonth(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled({ disabled: [], ...this.config }, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"MMM\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, computedFrom, customElement, inlineView } from \"aurelia-framework\";\nimport { getHours, getMinutes, setHours, setMinutes } from \"date-fns\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport view from \"./time-page.html\";\n\n@customElement(\"time-page\")\n@inlineView(view)\nexport class TimePage {\n  @bindable()\n  public time: Date = new Date();\n\n  constructor(private element: Element) {}\n\n  @computedFrom(\"time\")\n  get hour(): string {\n    const hr = getHours(this.time);\n    return `${hr === 0 || hr === 12 ? 12 : hr > 12 ? hr - 12 : hr}`;\n  }\n  set hour(hour: string) {\n    const newHr = parseInt(hour === \"12\" ? \"0\" : hour, 10);\n    const hr = getHours(this.time);\n    this.time = setHours(this.time, hr < 12 ? newHr : newHr + 12);\n    this.fireChange();\n  }\n\n  @computedFrom(\"time\")\n  get minute(): number {\n    return getMinutes(this.time);\n  }\n  set minute(min: number) {\n    this.time = setMinutes(this.time, min);\n    this.fireChange();\n  }\n\n  @computedFrom(\"time\")\n  get ampm() {\n    return getHours(this.time) < 12 ? \"am\" : \"pm\";\n  }\n  protected switchAmpm() {\n    const hr = getHours(this.time);\n    this.time = setHours(this.time, hr < 12 ? hr + 12 : hr - 12);\n    this.fireChange();\n  }\n\n  private fireChange() {\n    this.element.dispatchEvent(UIInternal.createEvent(\"change\", this.time));\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport { addYears, format, isSameYear, startOfDecade } from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./years-page.html\";\n\n@customElement(\"years-page\")\n@inlineView(view)\nexport class YearsPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected pageStart: Date;\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected monthChanged(newMonth) {\n    this.month = newMonth || new Date();\n    this.pageStart = addYears(startOfDecade(this.month), -1);\n  }\n\n  protected getYear(year: number): KeyValue {\n    const date = addYears(this.pageStart, year);\n\n    const classes = [];\n    if (year === 0 || year === 11) {\n      classes.push(\"date-other\");\n    }\n    if (this.config) {\n      if (isDate(this.config.date) && isSameYear(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled({ disabled: [], ...this.config }, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"yyyy\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport {\n  bindable,\n  bindingMode,\n  computedFrom,\n  customElement,\n  inlineView,\n  viewResources\n} from \"aurelia-framework\";\nimport { isValid, parseISO, startOfDay, startOfMonth } from \"date-fns\";\nimport { UIFormat } from \"../utils/ui-format\";\nimport { CalendarHead } from \"./calendar-head\";\nimport {\n  buildHeaderConfig,\n  CALENDAR_VIEWS,\n  changeMonth,\n  getTitle,\n  IDateConfig,\n  IDateDisabled,\n  IDatePreset,\n  IHeaderConfig,\n  parseDate\n} from \"./calendar-utils\";\nimport { DaysPage } from \"./days-page\";\nimport { MonthsPage } from \"./months-page\";\nimport { TimePage } from \"./time-page\";\nimport view from \"./ui-date-picker.html\";\nimport { YearsPage } from \"./years-page\";\n\n@customElement(\"ui-date-picker\")\n@inlineView(view)\n@viewResources(CalendarHead, DaysPage, MonthsPage, YearsPage, TimePage)\nexport class UIDatePicker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public date: string | undefined;\n\n  @bindable()\n  public minDate: string | undefined;\n  @bindable()\n  public maxDate: string | undefined;\n\n  @bindable()\n  public disabledDates: IDateDisabled;\n\n  @bindable()\n  public format: string = \"dd MMM yyyy HH:mm\";\n\n  @bindable()\n  public datePresets: IDatePreset[] = [];\n\n  @bindable({ defaultBindingMode: bindingMode.fromView })\n  public dateLabel: string;\n\n  protected currentPage = CALENDAR_VIEWS.DAYS;\n  protected month: Date = startOfMonth(new Date());\n\n  protected time: Date = parseISO(\"2018-01-01T00:00:00.000\");\n\n  protected VIEWS = CALENDAR_VIEWS;\n\n  private selectedDate: Date;\n\n  protected bind() {\n    this.dateChanged();\n  }\n\n  protected dateChanged() {\n    this.selectedDate = parseDate(this.date);\n    if (isValid(this.selectedDate)) {\n      this.time = new Date(this.selectedDate);\n      this.month = startOfMonth(this.selectedDate);\n\n      const preset = this.datePresets.find(p => p.preset === this.date);\n      this.dateLabel = preset ? preset.label : UIFormat.datetime(this.selectedDate, this.format);\n    }\n  }\n\n  @computedFrom(\"selectedDate\", \"currentPage\", \"minDate\", \"maxDate\", \"disabledDates\")\n  get config(): IDateConfig {\n    return {\n      date: this.selectedDate,\n      page: this.currentPage,\n      minDate: parseDate(this.minDate),\n      maxDate: parseDate(this.maxDate),\n      disabled: this.disabledDatesList\n    };\n  }\n\n  @computedFrom(\"month\", \"currentPage\")\n  get title(): string {\n    return getTitle(this.month, this.currentPage);\n  }\n\n  @computedFrom(\"month\", \"currentPage\", \"minDate\", \"maxDate\")\n  get headerOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.month, this.currentPage, this.config);\n  }\n\n  get disabledDatesList() {\n    if (isArray(this.disabledDates)) {\n      return this.disabledDates.map(d => {\n        const dt = parseDate(d);\n        return !isEmpty(dt) ? startOfDay(dt).toISOString() : null;\n      });\n    }\n    return this.disabledDates;\n  }\n\n  protected headerClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.currentPage !== CALENDAR_VIEWS.YEARS) {\n          this.currentPage++;\n        }\n      } else {\n        this.month = changeMonth(this.month, this.currentPage, target.dataset.tool);\n      }\n    }\n  }\n\n  protected selectDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.updateDate(startOfDay(new Date(target.dataset.date)));\n    }\n  }\n\n  protected timeChanged(newTime: Date) {\n    this.updateDate(this.date ? parseDate(this.date) : new Date(), newTime);\n  }\n\n  protected selectMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.month = new Date(target.dataset.date);\n      this.currentPage--;\n    }\n  }\n\n  protected cancelSelection() {\n    this.currentPage = CALENDAR_VIEWS.DAYS;\n  }\n\n  protected selectPreset(preset) {\n    this.cancelSelection();\n    this.date = preset;\n  }\n\n  private updateDate(dt: Date, tm: Date = this.time) {\n    dt.setHours(tm.getHours());\n    dt.setMinutes(tm.getMinutes());\n    this.date = dt.toISOString();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, bindingMode, computedFrom, customElement, inlineView, viewResources } from \"aurelia-framework\";\nimport { addMonths, endOfDay, isAfter, isBefore, isSameMonth, startOfDay, startOfMonth } from \"date-fns\";\nimport { UIFormat } from \"../utils/ui-format\";\nimport { CalendarHead } from \"./calendar-head\";\nimport {\n  buildHeaderConfig,\n  CALENDAR_VIEWS,\n  changeMonth,\n  getTitle,\n  IDatePreset,\n  IHeaderConfig,\n  parseDate,\n  parseRange\n} from \"./calendar-utils\";\nimport { DaysPage } from \"./days-page\";\nimport { MonthsPage } from \"./months-page\";\nimport { TimePage } from \"./time-page\";\nimport view from \"./ui-range-picker.html\";\nimport { YearsPage } from \"./years-page\";\n\n@customElement(\"ui-range-picker\")\n@inlineView(view)\n@viewResources(CalendarHead, DaysPage, MonthsPage, YearsPage, TimePage)\nexport class UIRangePicker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public date: [string, string] | string | undefined;\n\n  @bindable()\n  public minDate: string | undefined;\n  @bindable()\n  public maxDate: string | undefined;\n\n  @bindable()\n  public format: string = \"dd MMM yyyy\";\n\n  @bindable()\n  public datePresets: IDatePreset[] = [];\n\n  @bindable({ defaultBindingMode: bindingMode.fromView })\n  public dateLabel: string;\n\n  protected startMonth = startOfMonth(new Date());\n  protected endMonth = startOfMonth(addMonths(new Date(), 1));\n\n  protected startPage = CALENDAR_VIEWS.DAYS;\n  protected endPage = CALENDAR_VIEWS.DAYS;\n\n  protected VIEWS = CALENDAR_VIEWS;\n\n  protected hilight: Date;\n\n  protected selecting: Date;\n\n  private selectedDate: [Date, Date];\n\n  protected bind() {\n    this.dateChanged();\n  }\n\n  protected dateChanged() {\n    this.selectedDate = parseRange(this.date);\n    if (this.selectedDate) {\n      this.startMonth = startOfMonth(this.selectedDate[0]);\n      this.endMonth = startOfMonth(this.selectedDate[1]);\n\n      const preset = this.datePresets.find(p => p.preset === this.date);\n      this.dateLabel = preset\n        ? preset.label\n        : `${UIFormat.date(this.selectedDate[0], this.format)} ~ ${UIFormat.date(\n          this.selectedDate[1],\n          this.format\n        )}`;\n    }\n  }\n\n  @computedFrom(\"selectedDate\", \"hilight\", \"selecting\", \"minDate\", \"maxDate\", \"disabledDates\")\n  get config() {\n    return {\n      date: this.selecting ? ([this.selecting, this.hilight] as [Date, Date]) : this.selectedDate,\n      minDate: parseDate(this.minDate),\n      maxDate: parseDate(this.maxDate),\n      disabled: []\n    };\n  }\n\n  @computedFrom(\"startMonth\", \"startPage\")\n  get startTitle(): string {\n    return getTitle(this.startMonth, this.startPage);\n  }\n\n  @computedFrom(\"endMonth\", \"endPage\")\n  get endTitle(): string {\n    return getTitle(this.endMonth, this.endPage);\n  }\n\n  @computedFrom(\"startMonth\", \"startPage\", \"minDate\", \"maxDate\")\n  get startHeaderOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.startMonth, this.startPage, {\n      ...this.config,\n      page: this.startPage\n    });\n  }\n\n  @computedFrom(\"endMonth\", \"endPage\", \"minDate\", \"maxDate\")\n  get endHeaderOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.endMonth, this.endPage, { ...this.config, page: this.endPage });\n  }\n\n  protected startHeaderClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.startPage !== CALENDAR_VIEWS.YEARS) {\n          this.startPage++;\n        }\n      } else {\n        this.startMonth = changeMonth(this.startMonth, this.startPage, target.dataset.tool);\n\n        if (\n          isSameMonth(this.startMonth, this.endMonth) ||\n          isAfter(this.startMonth, this.endMonth)\n        ) {\n          this.endMonth = addMonths(this.startMonth, 1);\n        }\n      }\n    }\n  }\n\n  protected endHeaderClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.endPage !== CALENDAR_VIEWS.YEARS) {\n          this.endPage++;\n        }\n      } else {\n        this.endMonth = changeMonth(this.endMonth, this.endPage, target.dataset.tool);\n\n        if (\n          isSameMonth(this.startMonth, this.endMonth) ||\n          isBefore(this.endMonth, this.startMonth)\n        ) {\n          this.startMonth = addMonths(this.endMonth, -1);\n        }\n      }\n    }\n  }\n\n  protected selectDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      const date = new Date(target.dataset.date);\n      if (this.selecting) {\n        this.date = isBefore(date, this.selecting)\n          ? [startOfDay(date).toISOString(), endOfDay(this.selecting).toISOString()]\n          : [startOfDay(this.selecting).toISOString(), endOfDay(date).toISOString()];\n        this.selecting = null;\n      } else {\n        this.selecting = date;\n      }\n    }\n  }\n\n  protected selectStartMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.startMonth = new Date(target.dataset.date);\n      this.startPage--;\n\n      if (isSameMonth(this.startMonth, this.endMonth) || isAfter(this.startMonth, this.endMonth)) {\n        this.endMonth = addMonths(this.startMonth, 1);\n      }\n    }\n  }\n\n  protected selectEndMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.endMonth = new Date(target.dataset.date);\n      this.endPage--;\n\n      if (isSameMonth(this.startMonth, this.endMonth) || isBefore(this.endMonth, this.startMonth)) {\n        this.startMonth = addMonths(this.endMonth, -1);\n      }\n    }\n  }\n\n  protected cancelSelection() {\n    this.selecting = null;\n    this.startPage = CALENDAR_VIEWS.DAYS;\n    this.endPage = CALENDAR_VIEWS.DAYS;\n  }\n\n  protected hilightDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.hilight = new Date(target.dataset.date);\n    }\n  }\n\n  protected selectPreset(preset) {\n    this.cancelSelection();\n    this.date = preset;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { UIDatePicker } from \"./ui-date-picker\";\nimport { UIRangePicker } from \"./ui-range-picker\";\n\nexport const Calendar = [UIDatePicker, UIRangePicker];\n"],"names":["__decorate","bindable","customElement","inlineView","startOfMinute","addDays","addWeeks","addMonths","addYears","parseISO","startOfDay","startOfWeek","endOfWeek","startOfMonth","endOfMonth","startOfYear","endOfYear","format","startOfDecade","endOfDecade","isValid","isBefore","isAfter","getDay","setDay","isSameMonth","isSameDay","endOfDay","view","setMonth","getHours","setHours","getMinutes","setMinutes","UIInternal","computedFrom","isSameYear","UIFormat","bindingMode","viewResources"],"mappings":"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"}