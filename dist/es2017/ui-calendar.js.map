{"version":3,"file":"ui-calendar.js","sources":["../../src/calendar/calendar-head.ts","../../src/calendar/calendar-utils.ts","../../src/calendar/days-page.ts","../../src/calendar/months-page.ts","../../src/calendar/time-page.ts","../../src/calendar/years-page.ts","../../src/calendar/ui-date-picker.ts","../../src/calendar/ui-range-picker.ts","../../src/calendar/ui-calendar.ts"],"sourcesContent":["/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport view from \"./calendar-head.html\";\nimport { IHeaderConfig } from \"./calendar-utils\";\n\n@customElement(\"calendar-head\")\n@inlineView(view)\nexport class CalendarHead {\n  public static TITLE = \"title\";\n\n  @bindable()\n  public showFirstLast: boolean = false;\n  @bindable()\n  public config: IHeaderConfig = {};\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport {\n  addDays,\n  addMonths,\n  addWeeks,\n  addYears,\n  endOfDecade,\n  endOfMonth,\n  endOfWeek,\n  endOfYear,\n  format,\n  isAfter,\n  isBefore,\n  isValid,\n  parseISO,\n  startOfDay,\n  startOfDecade,\n  startOfMonth,\n  startOfWeek,\n  startOfYear\n} from \"date-fns\";\n\nexport enum CALENDAR_VIEWS {\n  DAYS,\n  MONTHS,\n  YEARS,\n  DECADES\n}\n\nexport enum CALENDAR_NAVIGATION {\n  FIRST = \"first\",\n  LAST = \"last\",\n  PREV = \"prev\",\n  NEXT = \"next\"\n}\n\nexport enum CALENDAR_GRAIN {\n  DAY = \"$day\",\n  WEEK = \"$week\",\n  MONTH = \"$month\",\n  YEAR = \"$year\"\n}\n\nexport type IDateDisabled = string[] | (({ date: Date }) => boolean) | undefined;\n\nexport interface IDatePreset {\n  preset: string;\n  label: string;\n}\n\nexport interface IDateConfig {\n  date?: [Date, Date] | Date | undefined;\n\n  minDate: Date | undefined;\n  maxDate: Date | undefined;\n\n  disabled: IDateDisabled;\n\n  page: CALENDAR_VIEWS;\n}\n\nexport interface IHeaderConfig {\n  firstDisabled?: boolean;\n  prevDisabled?: boolean;\n  lastDisabled?: boolean;\n  nextDisabled?: boolean;\n\n  firstTooltip?: string;\n  lastTooltip?: string;\n  prevTooltip?: string;\n  nextTooltip?: string;\n}\n\nexport const parseDate = (date: Date | string | undefined): Date => {\n  if (isString(date)) {\n    if (date.startsWith(CALENDAR_GRAIN.DAY)) {\n      return addDays(new Date(), parseInt(date.replace(CALENDAR_GRAIN.DAY, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.WEEK)) {\n      return addWeeks(new Date(), parseInt(date.replace(CALENDAR_GRAIN.WEEK, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.MONTH)) {\n      return addMonths(new Date(), parseInt(date.replace(CALENDAR_GRAIN.MONTH, \"\") || \"0\", 10));\n    } else if (date.startsWith(CALENDAR_GRAIN.YEAR)) {\n      return addYears(new Date(), parseInt(date.replace(CALENDAR_GRAIN.YEAR, \"\") || \"0\", 10));\n    } else {\n      return parseISO(date);\n    }\n  } else if (date) {\n    return date as Date;\n  }\n  return null;\n};\n\nexport const parseRange = (date: string | [string, string] | undefined): [Date, Date] => {\n  if (isString(date)) {\n    const before = date.includes(\"-\");\n    if (date.startsWith(CALENDAR_GRAIN.DAY)) {\n      const today = startOfDay(new Date());\n      const diff = addDays(new Date(), parseInt(date.replace(CALENDAR_GRAIN.DAY, \"\") || \"0\", 10));\n      return before ? [diff, today] : [today, diff];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.WEEK)) {\n      const start = startOfWeek(new Date());\n      const end = endOfWeek(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.WEEK, \"\") || \"0\", 10);\n      return [addWeeks(start, diff), addWeeks(end, diff)];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.MONTH)) {\n      const start = startOfMonth(new Date());\n      const end = endOfMonth(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.MONTH, \"\") || \"0\", 10);\n      return [addMonths(start, diff), addMonths(end, diff)];\n    }\n    if (date.startsWith(CALENDAR_GRAIN.YEAR)) {\n      const start = startOfYear(new Date());\n      const end = endOfYear(new Date());\n      const diff = parseInt(date.replace(CALENDAR_GRAIN.YEAR, \"\") || \"0\", 10);\n      return [addYears(start, diff), addYears(end, diff)];\n    }\n  } else if (isArray(date)) {\n    return [parseISO(date[0]), parseISO(date[1])];\n  }\n  return null;\n};\n\nexport const getTitle = (month: Date, view: CALENDAR_VIEWS) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    return format(month, \"MMMM yyyy\");\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    return format(month, \"yyyy\");\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    return format(startOfDecade(month), \"yyyy\") + \"-\" + format(endOfDecade(month), \"yyyy\");\n  }\n  return \"-\";\n};\n\nexport const changeMonth = (month: Date, view: CALENDAR_VIEWS, grain: string) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.FIRST:\n        return addMonths(month, -12);\n      case CALENDAR_NAVIGATION.LAST:\n        return addMonths(month, 12);\n      case CALENDAR_NAVIGATION.PREV:\n        return addMonths(month, -1);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addMonths(month, 1);\n    }\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.PREV:\n        return addYears(month, -1);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addYears(month, 1);\n    }\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    switch (grain) {\n      case CALENDAR_NAVIGATION.PREV:\n        return addYears(month, -10);\n      case CALENDAR_NAVIGATION.NEXT:\n        return addYears(month, 10);\n    }\n  }\n  return month;\n};\n\nexport const buildHeaderConfig = (month: Date, view: CALENDAR_VIEWS, config: IDateConfig) => {\n  if (view === CALENDAR_VIEWS.DAYS) {\n    return {\n      firstDisabled: isBeforeMin(month, config.minDate, -12),\n      lastDisabled: isAfterMax(month, config.maxDate, 12),\n      prevDisabled: isBeforeMin(month, config.minDate, -1),\n      nextDisabled: isAfterMax(month, config.maxDate, 1),\n\n      firstTooltip: format(addMonths(month, -12), \"MMM yyyy\"),\n      lastTooltip: format(addMonths(month, 12), \"MMM yyyy\"),\n      prevTooltip: format(addMonths(month, -1), \"MMM yyyy\"),\n      nextTooltip: format(addMonths(month, 1), \"MMM yyyy\")\n    };\n  }\n  if (view === CALENDAR_VIEWS.MONTHS) {\n    return {\n      prevDisabled: isBeforeMin(month, config.minDate, -12),\n      nextDisabled: isAfterMax(month, config.maxDate, 12),\n      prevTooltip: format(addYears(month, -1), \"yyyy\"),\n      nextTooltip: format(addYears(month, 1), \"yyyy\")\n    };\n  }\n  if (view === CALENDAR_VIEWS.YEARS) {\n    const start = startOfDecade(month);\n    const end = endOfDecade(month);\n    return {\n      prevDisabled: isBeforeMin(month, config.minDate, -120),\n      nextDisabled: isAfterMax(month, config.maxDate, 120),\n      prevTooltip: format(addYears(start, -10), \"yyyy\") + \"-\" + format(addYears(start, -1), \"yyyy\"),\n      nextTooltip: format(addYears(end, 1), \"yyyy\") + \"-\" + format(addYears(end, 10), \"yyyy\")\n    };\n  }\n};\n\nexport const isBeforeMin = (month: Date, minDate: Date, n: number = 0) => {\n  return isValid(minDate) ? isBefore(addMonths(startOfDay(month), n), startOfDay(minDate)) : false;\n};\n\nexport const isAfterMax = (month: Date, maxDate: Date, n: number = 0) => {\n  return isValid(maxDate) ? isAfter(addMonths(startOfDay(month), n), startOfDay(maxDate)) : false;\n};\n\nexport const isDisabled = (config: IDateConfig, date: Date): boolean => {\n  let min = config.minDate;\n  let max = config.maxDate;\n\n  if (config.page === CALENDAR_VIEWS.MONTHS) {\n    min = startOfMonth(startOfDay(min));\n    max = endOfMonth(startOfDay(max));\n  }\n  if (config.page === CALENDAR_VIEWS.YEARS) {\n    min = startOfYear(startOfDay(min));\n    max = startOfYear(startOfDay(max));\n  }\n  if (isBefore(date, min)) {\n    return true;\n  }\n  if (isAfter(date, max)) {\n    return true;\n  }\n  if (config.page === CALENDAR_VIEWS.DAYS && config.disabled) {\n    const { disabled } = config;\n    if (isArray(disabled)) {\n      return disabled.includes(startOfDay(date).toISOString());\n    } else if (isFunction(disabled)) {\n      return disabled({ date });\n    }\n  }\n  return false;\n};\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport {\n  addDays,\n  addWeeks,\n  endOfDay,\n  format,\n  getDay,\n  isAfter,\n  isBefore,\n  isSameDay,\n  isSameMonth,\n  setDay,\n  startOfDay,\n  startOfMonth,\n  startOfWeek\n} from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./days-page.html\";\n\n@customElement(\"days-page\")\n@inlineView(view)\nexport class DaysPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected pageStart: Date;\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected monthChanged(newMonth) {\n    this.month = newMonth || new Date();\n    const start = startOfMonth(this.month);\n    this.pageStart = startOfWeek(startOfMonth(this.month));\n    if (getDay(start) < 3) {\n      this.pageStart = addWeeks(this.pageStart, -1);\n    }\n  }\n\n  protected weekTitle(week: number): string {\n    return format(setDay(new Date(), week), \"E\").substr(0, 2);\n  }\n\n  protected weekNumber(week: number): string {\n    return format(addWeeks(this.pageStart, week), \"ww\");\n  }\n\n  protected getDate(week: number, day: number): KeyValue {\n    const date = addDays(addWeeks(this.pageStart, week), day);\n\n    const classes = [];\n    if (!isSameMonth(this.month, date)) {\n      classes.push(\"date-other\");\n    }\n    if (isSameDay(new Date(), date)) {\n      classes.push(\"date-today\");\n    }\n    if (this.config) {\n      if (isArray(this.config.date)) {\n        if (\n          isAfter(startOfDay(date), this.config.date[0]) &&\n          isBefore(endOfDay(date), this.config.date[1])\n        ) {\n          classes.push(\"select-hilight\");\n        }\n        if (isSameDay(date, this.config.date[0])) {\n          classes.push(\"select-start\");\n        }\n        if (isSameDay(date, this.config.date[1])) {\n          classes.push(\"select-end\");\n        }\n      }\n      if (isDate(this.config.date) && isSameDay(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled(this.config, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"dd\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport { format, isSameMonth, setMonth } from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./months-page.html\";\n\n@customElement(\"months-page\")\n@inlineView(view)\nexport class MonthsPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected getMonth(month: number): KeyValue {\n    const date = setMonth(this.month, month);\n\n    const classes = [];\n    if (this.config) {\n      if (isDate(this.config.date) && isSameMonth(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled({ disabled: [], ...this.config }, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"MMM\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, computedFrom, customElement, inlineView } from \"aurelia-framework\";\nimport { getHours, getMinutes, setHours, setMinutes } from \"date-fns\";\nimport { UIInternal } from \"../utils/ui-internal\";\nimport view from \"./time-page.html\";\n\n@customElement(\"time-page\")\n@inlineView(view)\nexport class TimePage {\n  @bindable()\n  public time: Date = new Date();\n\n  constructor(private element: Element) {}\n\n  @computedFrom(\"time\")\n  get hour(): string {\n    const hr = getHours(this.time);\n    return `${hr === 0 || hr === 12 ? 12 : hr > 12 ? hr - 12 : hr}`;\n  }\n  set hour(hour: string) {\n    const newHr = parseInt(hour === \"12\" ? \"0\" : hour, 10);\n    const hr = getHours(this.time);\n    this.time = setHours(this.time, hr < 12 ? newHr : newHr + 12);\n    this.fireChange();\n  }\n\n  @computedFrom(\"time\")\n  get minute(): number {\n    return getMinutes(this.time);\n  }\n  set minute(min: number) {\n    this.time = setMinutes(this.time, min);\n    this.fireChange();\n  }\n\n  @computedFrom(\"time\")\n  get ampm() {\n    return getHours(this.time) < 12 ? \"am\" : \"pm\";\n  }\n  protected switchAmpm() {\n    const hr = getHours(this.time);\n    this.time = setHours(this.time, hr < 12 ? hr + 12 : hr - 12);\n    this.fireChange();\n  }\n\n  private fireChange() {\n    this.element.dispatchEvent(UIInternal.createEvent(\"change\", this.time));\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport { bindable, customElement, inlineView } from \"aurelia-framework\";\nimport { addYears, format, isSameYear, setYear, startOfDecade } from \"date-fns\";\nimport { IDateConfig, isDisabled } from \"./calendar-utils\";\nimport view from \"./years-page.html\";\n\n@customElement(\"years-page\")\n@inlineView(view)\nexport class YearsPage {\n  @bindable()\n  public month: Date;\n\n  @bindable()\n  public config: IDateConfig;\n\n  protected pageStart: Date;\n  protected isAttached: boolean = false;\n\n  protected attached() {\n    this.isAttached = true;\n  }\n\n  protected monthChanged(newMonth) {\n    this.month = newMonth || new Date();\n    this.pageStart = addYears(startOfDecade(this.month), -1);\n  }\n\n  protected getYear(year: number): KeyValue {\n    const date = addYears(this.pageStart, year);\n\n    const classes = [];\n    if (year === 0 || year === 11) {\n      classes.push(\"date-other\");\n    }\n    if (this.config) {\n      if (isDate(this.config.date) && isSameYear(date, this.config.date)) {\n        classes.push(\"selected\");\n      }\n\n      if (isDisabled({ disabled: [], ...this.config }, date)) {\n        classes.push(\"disabled\");\n      }\n    }\n\n    return { date, label: format(date, \"yyyy\"), classes: classes.join(\" \") };\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport {\n  bindable,\n  bindingMode,\n  computedFrom,\n  customElement,\n  inlineView,\n  viewResources\n} from \"aurelia-framework\";\nimport { isValid, parseISO, startOfDay, startOfMonth } from \"date-fns\";\nimport { UIFormat } from \"../utils/ui-format\";\nimport { CalendarHead } from \"./calendar-head\";\nimport {\n  buildHeaderConfig,\n  CALENDAR_VIEWS,\n  changeMonth,\n  getTitle,\n  IDateConfig,\n  IDateDisabled,\n  IDatePreset,\n  IHeaderConfig,\n  parseDate\n} from \"./calendar-utils\";\nimport { DaysPage } from \"./days-page\";\nimport { MonthsPage } from \"./months-page\";\nimport { TimePage } from \"./time-page\";\nimport view from \"./ui-date-picker.html\";\nimport { YearsPage } from \"./years-page\";\n\n@customElement(\"ui-date-picker\")\n@inlineView(view)\n@viewResources(CalendarHead, DaysPage, MonthsPage, YearsPage, TimePage)\nexport class UIDatePicker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public date: string | undefined;\n\n  @bindable()\n  public minDate: string | undefined;\n  @bindable()\n  public maxDate: string | undefined;\n\n  @bindable()\n  public disabledDates: IDateDisabled;\n\n  @bindable()\n  public format: string = \"dd MMM yyyy HH:mm\";\n\n  @bindable()\n  public datePresets: IDatePreset[] = [];\n\n  @bindable({ defaultBindingMode: bindingMode.fromView })\n  public dateLabel: string;\n\n  protected currentPage = CALENDAR_VIEWS.DAYS;\n  protected month: Date = startOfMonth(new Date());\n\n  protected time: Date = parseISO(\"2018-01-01T00:00:00.000\");\n\n  protected VIEWS = CALENDAR_VIEWS;\n\n  private selectedDate: Date;\n\n  protected bind() {\n    this.dateChanged();\n  }\n\n  protected dateChanged() {\n    this.selectedDate = parseDate(this.date);\n    if (isValid(this.selectedDate)) {\n      this.time = new Date(this.selectedDate);\n      this.month = startOfMonth(this.selectedDate);\n\n      const preset = this.datePresets.find(p => p.preset === this.date);\n      this.dateLabel = preset ? preset.label : UIFormat.datetime(this.selectedDate, this.format);\n    }\n  }\n\n  @computedFrom(\"selectedDate\", \"currentPage\", \"minDate\", \"maxDate\", \"disabledDates\")\n  get config(): IDateConfig {\n    return {\n      date: this.selectedDate,\n      page: this.currentPage,\n      minDate: parseDate(this.minDate),\n      maxDate: parseDate(this.maxDate),\n      disabled: this.disabledDatesList\n    };\n  }\n\n  @computedFrom(\"month\", \"currentPage\")\n  get title(): string {\n    return getTitle(this.month, this.currentPage);\n  }\n\n  @computedFrom(\"month\", \"currentPage\", \"minDate\", \"maxDate\")\n  get headerOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.month, this.currentPage, this.config);\n  }\n\n  get disabledDatesList() {\n    if (isArray(this.disabledDates)) {\n      return this.disabledDates.map(d => {\n        const dt = parseDate(d);\n        return !isEmpty(dt) ? startOfDay(dt).toISOString() : null;\n      });\n    }\n    return this.disabledDates;\n  }\n\n  protected headerClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.currentPage !== CALENDAR_VIEWS.YEARS) {\n          this.currentPage++;\n        }\n      } else {\n        this.month = changeMonth(this.month, this.currentPage, target.dataset.tool);\n      }\n    }\n  }\n\n  protected selectDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.updateDate(startOfDay(new Date(target.dataset.date)));\n    }\n  }\n\n  protected timeChanged(newTime: Date) {\n    this.updateDate(this.date ? parseISO(this.date) : new Date(), newTime);\n  }\n\n  protected selectMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.month = new Date(target.dataset.date);\n      this.currentPage--;\n    }\n  }\n\n  protected cancelSelection() {\n    this.currentPage = CALENDAR_VIEWS.DAYS;\n  }\n\n  protected selectPreset(preset) {\n    this.cancelSelection();\n    this.date = preset;\n  }\n\n  private updateDate(dt: Date, tm: Date = this.time) {\n    dt.setHours(tm.getHours());\n    dt.setMinutes(tm.getMinutes());\n    this.date = dt.toISOString();\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\n\nimport {\n  bindable,\n  bindingMode,\n  computedFrom,\n  customElement,\n  inlineView,\n  viewResources\n} from \"aurelia-framework\";\nimport {\n  addMonths,\n  endOfDay,\n  isAfter,\n  isBefore,\n  isSameDay,\n  isSameMonth,\n  startOfDay,\n  startOfMonth\n} from \"date-fns\";\nimport { UIFormat } from \"../utils/ui-format\";\nimport { CalendarHead } from \"./calendar-head\";\nimport {\n  buildHeaderConfig,\n  CALENDAR_VIEWS,\n  changeMonth,\n  getTitle,\n  IDatePreset,\n  IHeaderConfig,\n  parseDate,\n  parseRange\n} from \"./calendar-utils\";\nimport { DaysPage } from \"./days-page\";\nimport { MonthsPage } from \"./months-page\";\nimport { TimePage } from \"./time-page\";\nimport view from \"./ui-range-picker.html\";\nimport { YearsPage } from \"./years-page\";\n\n@customElement(\"ui-range-picker\")\n@inlineView(view)\n@viewResources(CalendarHead, DaysPage, MonthsPage, YearsPage, TimePage)\nexport class UIRangePicker {\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  public date: [string, string] | string | undefined;\n\n  @bindable()\n  public minDate: string | undefined;\n  @bindable()\n  public maxDate: string | undefined;\n\n  @bindable()\n  public format: string = \"dd MMM yyyy\";\n\n  @bindable()\n  public datePresets: IDatePreset[] = [];\n\n  @bindable({ defaultBindingMode: bindingMode.fromView })\n  public dateLabel: string;\n\n  protected startMonth = startOfMonth(new Date());\n  protected endMonth = startOfMonth(addMonths(new Date(), 1));\n\n  protected startPage = CALENDAR_VIEWS.DAYS;\n  protected endPage = CALENDAR_VIEWS.DAYS;\n\n  protected VIEWS = CALENDAR_VIEWS;\n\n  protected hilight: Date;\n\n  protected selecting: Date;\n\n  private selectedDate: [Date, Date];\n\n  protected bind() {\n    this.dateChanged();\n  }\n\n  protected dateChanged() {\n    this.selectedDate = parseRange(this.date);\n    if (this.selectedDate) {\n      this.startMonth = startOfMonth(this.selectedDate[0]);\n      this.endMonth = startOfMonth(this.selectedDate[1]);\n\n      const preset = this.datePresets.find(p => p.preset === this.date);\n      this.dateLabel = preset\n        ? preset.label\n        : `${UIFormat.date(this.selectedDate[0], this.format)} ~ ${UIFormat.date(\n            this.selectedDate[1],\n            this.format\n          )}`;\n    }\n  }\n\n  @computedFrom(\"selectedDate\", \"hilight\", \"selecting\", \"minDate\", \"maxDate\", \"disabledDates\")\n  get config() {\n    return {\n      date: this.selecting ? ([this.selecting, this.hilight] as [Date, Date]) : this.selectedDate,\n      minDate: parseDate(this.minDate),\n      maxDate: parseDate(this.maxDate),\n      disabled: []\n    };\n  }\n\n  @computedFrom(\"startMonth\", \"startPage\")\n  get startTitle(): string {\n    return getTitle(this.startMonth, this.startPage);\n  }\n\n  @computedFrom(\"endMonth\", \"endPage\")\n  get endTitle(): string {\n    return getTitle(this.endMonth, this.endPage);\n  }\n\n  @computedFrom(\"startMonth\", \"startPage\", \"minDate\", \"maxDate\")\n  get startHeaderOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.startMonth, this.startPage, {\n      ...this.config,\n      page: this.startPage\n    });\n  }\n  @computedFrom(\"endMonth\", \"endPage\", \"minDate\", \"maxDate\")\n  get endHeaderOptions(): IHeaderConfig {\n    return buildHeaderConfig(this.endMonth, this.endPage, { ...this.config, page: this.endPage });\n  }\n\n  protected startHeaderClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.startPage !== CALENDAR_VIEWS.YEARS) {\n          this.startPage++;\n        }\n      } else {\n        this.startMonth = changeMonth(this.startMonth, this.startPage, target.dataset.tool);\n\n        if (\n          isSameMonth(this.startMonth, this.endMonth) ||\n          isAfter(this.startMonth, this.endMonth)\n        ) {\n          this.endMonth = addMonths(this.startMonth, 1);\n        }\n      }\n    }\n  }\n\n  protected endHeaderClicked($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.tool) {\n      if (target.dataset.tool === CalendarHead.TITLE) {\n        if (this.endPage !== CALENDAR_VIEWS.YEARS) {\n          this.endPage++;\n        }\n      } else {\n        this.endMonth = changeMonth(this.endMonth, this.endPage, target.dataset.tool);\n\n        if (\n          isSameMonth(this.startMonth, this.endMonth) ||\n          isBefore(this.endMonth, this.startMonth)\n        ) {\n          this.startMonth = addMonths(this.endMonth, -1);\n        }\n      }\n    }\n  }\n\n  protected selectDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      const date = new Date(target.dataset.date);\n      if (this.selecting) {\n        this.date = isBefore(date, this.selecting)\n          ? [startOfDay(date).toISOString(), endOfDay(this.selecting).toISOString()]\n          : [startOfDay(this.selecting).toISOString(), endOfDay(date).toISOString()];\n        this.selecting = null;\n      } else {\n        this.selecting = date;\n      }\n    }\n  }\n\n  protected selectStartMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.startMonth = new Date(target.dataset.date);\n      this.startPage--;\n\n      if (isSameMonth(this.startMonth, this.endMonth) || isAfter(this.startMonth, this.endMonth)) {\n        this.endMonth = addMonths(this.startMonth, 1);\n      }\n    }\n  }\n\n  protected selectEndMonth($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.endMonth = new Date(target.dataset.date);\n      this.endPage--;\n\n      if (isSameMonth(this.startMonth, this.endMonth) || isBefore(this.endMonth, this.startMonth)) {\n        this.startMonth = addMonths(this.endMonth, -1);\n      }\n    }\n  }\n\n  protected cancelSelection() {\n    this.selecting = null;\n    this.startPage = CALENDAR_VIEWS.DAYS;\n    this.endPage = CALENDAR_VIEWS.DAYS;\n  }\n\n  protected hilightDate($event: MouseEvent) {\n    const target = $event.target as HTMLElement;\n    if (target.dataset.date) {\n      this.hilight = new Date(target.dataset.date);\n    }\n  }\n\n  protected selectPreset(preset) {\n    this.cancelSelection();\n    this.date = preset;\n  }\n}\n","/**\n * @author    : Adarsh Pastakia\n * @version   : 5.0.0\n * @copyright : 2019\n * @license   : MIT\n */\nimport { UIDatePicker } from \"./ui-date-picker\";\nimport { UIRangePicker } from \"./ui-range-picker\";\n\nexport const Calendar = [UIDatePicker, UIRangePicker];\n"],"names":["tslib_1.__decorate","view"],"mappings":"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"}