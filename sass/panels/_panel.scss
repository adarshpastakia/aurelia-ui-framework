// @author    : Adarsh Pastakia
// @version   : 5.0.0
// @copyright : 2019
// @license   : MIT

.ui-panel {
  align-self: start;
  border-radius: $base-border-radius;
  box-shadow: $shadow-level0;
  display: grid;
  grid-template-areas: "header" "body" "footer";
  grid-template-rows: auto 1fr auto;
  max-height: 100%;
  max-width: 100%;
  overflow: hidden;
  position: relative;

  &.ui-paper {
    box-shadow: $shadow-level2;
  }

  $base: #{&};
  &__group {
    > #{$base} {
      border-radius: 0;

      &:first-child {
        border-top-left-radius: $base-border-radius;
        border-top-right-radius: $base-border-radius;
      }
      &:last-child {
        border-bottom-left-radius: $base-border-radius;
        border-bottom-right-radius: $base-border-radius;
      }
    }
  }

  &__body {
    display: grid;
    grid-area: body;
    grid-template-areas: "content";
    grid-template-columns: 1fr;
    grid-template-rows: 1fr;
    overflow: hidden;
    position: relative;

    > .ui-scroll {
      border: 2px solid $base-component-bg;
    }
  }

  &__header {
    align-items: center;
    display: grid;
    grid-area: header;
    grid-template-areas: "header actions";
    grid-template-columns: 1fr auto;
    position: relative;

    .ui-header {
      position: static;

      .ui-btn__wrapper {
        font-size: 0.75em;
      }
    }

    &__actions {
      align-items: center;
      align-self: stretch;
      display: grid;
      grid-area: actions;
      grid-auto-flow: column;
      grid-gap: 2px;

      > .ui-divider {
        margin: 4px;
        @extend %vr;
      }

      .ui-btn__wrapper {
        // font-size: 0.75em;
      }

      &:not(:empty) {
        @include property-prefix(margin-start, -1em);
        padding: 0 0.5em;
      }
    }
  }

  &[data-collapsed="true"] {
    .ui-footer,
    .ui-panel__body {
      // stylelint-disable-next-line declaration-no-important
      max-height: 0 !important;
      min-height: 0;
    }
  }

  @mixin make-panel($theme, $theme-color, $tool-color) {
    &.ui-theme--#{$theme} {
      #{$base}__header {
        background-color: $theme-color;
        color: $gray-light;

        .ui-divider {
          @extend %vr-dark;
        }
        .ui-btn__wrapper[data-type="tool"] {
          background-color: $tool-color;
        }
      }
    }
  }
  @each $label, $color in $base-colors {
    @include make-panel($label, mix($color, $gray, 85%), mix($color, $gray-light, 40%));
  }
  @include make-panel(dark, $gray-dark, mix($gray-dark, $gray-light, 40%));
}
