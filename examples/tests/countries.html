<template>
  <div ui-padding with.bind="{colors:{'Africa':'green-dark','Asia':'red','Europe':'violet','Oceania':'blue','North America':'teal-dark','South America':'orange'}}">
    <template repeat.for="[key, items] of countries | sort:['continent','name'] | group:'continent'">
      <p ui-weight="bold">${key}</p>
      <ui-grid size="md">
        <template repeat.for="c of items">
          <ui-card>
            <ui-header ui-border="s,md,${colors[key]}">
              <ui-header-title>${c.name}</ui-header-title>
              <ui-header-actions>
                <ui-flag code.bind="c.iso2" size="lg" ui-border="xy,gray-50"></ui-flag>
              </ui-header-actions>
            </ui-header>
            <ui-card-title>${c.fullname}</ui-card-title>
            <ui-card-meta>
              <span>${c.iso2}</span>
              <span>${c.iso3}</span>
            </ui-card-meta>
            <ui-card-meta>
              <span>Capital</span>
              <span ui-align="end">${c.capital}</span>
            </ui-card-meta>
            <ui-card-meta>
              <span>${c.currency}</span>
              <span ui-align="end">${c.currency in currencies ? currencies[c.currency] : '-'}</span>
            </ui-card-meta>
            <ui-card-meta>
              <span>${c.phone}</span>
              <span>${c.tld}</span>
            </ui-card-meta>
          </ui-card>
        </template>
      </ui-grid>
      <hr if.bind="!$last" />
    </template>
  </div>
</template>
